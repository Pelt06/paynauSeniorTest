2024-12-23 00:01:18.032 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:01:18.047 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:01:18.049 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:01:18.050 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:01:18.052 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:01:18.053 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:01:18.054 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:01:18.055 -06:00 [DBG] Connection id "0HN931HM77OUU" completed keep alive response.
2024-12-23 00:01:18.056 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 23.4835ms
2024-12-23 00:01:18.060 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 76
2024-12-23 00:01:18.063 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:01:18.064 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:01:18.065 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:01:18.067 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:01:18.068 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:01:18.069 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:01:18.069 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:01:18.071 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:01:18.072 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:01:18.074 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:01:18.075 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:01:18.078 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:01:18.080 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:01:18.082 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:01:18.084 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:01:18.086 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:01:18.087 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:01:18.089 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:01:18.090 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:01:18.092 -06:00 [DBG] Connection id "0HN931HM77OUU", Request id "0HN931HM77OUU:00000010": started reading request body.
2024-12-23 00:01:18.094 -06:00 [DBG] Connection id "0HN931HM77OUU", Request id "0HN931HM77OUU:00000010": done reading request body.
2024-12-23 00:01:18.099 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:01:18.100 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:01:18.102 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:01:18.103 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:01:18.107 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:01:18.109 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:01:18.111 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:01:18.112 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:01:18.114 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:01:18.118 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":1,"$type":"CreateOrderDetailModel"},{"ProductId":3,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:01:18.126 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:01:18.134 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:01:18.136 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:01:18.137 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.155 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.157 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:01:18.160 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:01:18.162 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:01:18.163 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 1
2024-12-23 00:01:18.187 -06:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-12-23 00:01:18.228 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ProductEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ProductEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.Description (string) Required MaxLength(250), 1], [Property: ProductEntity.Name (string) Required MaxLength(100), 2], [Property: ProductEntity.Price (decimal) Required, 3], [Property: ProductEntity.RowVersion (byte[]) Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 4], [Property: ProductEntity.Stock (int) Required, 5] }
            SELECT TOP(1) p.Id, p.Description, p.Name, p.Price, p.RowVersion, p.Stock
            FROM Products AS p
            WHERE p.Id == @__p_0), 
        ReaderColumn[] { ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<decimal>, ReaderColumn<DateTime>, ReaderColumn<int> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
        Backend.Persistence.Database.DatabaseService, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-12-23 00:01:18.235 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.236 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.238 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:18.239 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:01:18.242 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:01:18.245 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.247 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.249 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:01:18.251 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.253 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.254 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.256 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:18.260 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:18.265 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:18.266 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.267 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.269 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:01:18.270 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:18.274 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:18.277 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.278 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:01:18.282 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:18.286 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:18.287 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.289 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:01:18.291 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 22
2024-12-23 00:01:18.292 -06:00 [INF] Procesando detalle de la orden: ProductoId = 3, Cantidad = 1
2024-12-23 00:01:18.296 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.297 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.299 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:18.300 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:01:18.304 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:01:18.306 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.308 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.309 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:01:18.311 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.313 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.314 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.317 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:18.318 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:18.320 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:18.321 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.323 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.324 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:18.326 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:18.329 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:18.332 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.333 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:01:18.335 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:18.337 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:18.338 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.340 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:01:18.342 -06:00 [INF] Stock actualizado para el producto Prod2. Stock restante: 2332
2024-12-23 00:01:18.347 -06:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .First(p => p.Id == __od_ProductId_0)'
2024-12-23 00:01:18.356 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.Description (string) Required MaxLength(250), 1], [Property: ProductEntity.Name (string) Required MaxLength(100), 2], [Property: ProductEntity.Price (decimal) Required, 3], [Property: ProductEntity.RowVersion (byte[]) Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 4], [Property: ProductEntity.Stock (int) Required, 5] }
        SELECT TOP(1) p.Id, p.Description, p.Name, p.Price, p.RowVersion, p.Stock
        FROM Products AS p
        WHERE p.Id == @__od_ProductId_0), 
    ReaderColumn[] { ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<decimal>, ReaderColumn<DateTime>, ReaderColumn<int> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Backend.Persistence.Database.DatabaseService, 
    False, 
    False, 
    True
)
    .Single()'
2024-12-23 00:01:18.361 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.362 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.364 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:18.366 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:18.371 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:18.375 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.377 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:01:18.380 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.381 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.382 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:18.384 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:18.386 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:18.389 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.391 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:01:18.394 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.405 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.407 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.408 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.409 -06:00 [DBG] Connection id "0HN931HM77OUU" received FIN.
2024-12-23 00:01:18.411 -06:00 [DBG] Connection id "0HN931HM77OUU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 00:01:18.413 -06:00 [DBG] Connection id "0HN931HM77OUU" disconnecting.
2024-12-23 00:01:18.414 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:18.418 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:18.421 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:18.422 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.424 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.425 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:01:18.427 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:18.455 -06:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:18.459 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:01:18.463 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.464 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 6ms reading results.
2024-12-23 00:01:18.467 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:18.470 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:18.472 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.475 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:01:18.477 -06:00 [INF] Orden creada exitosamente. Total: 133.00, Fecha: "2024-12-23T06:01:18.3933911Z"
2024-12-23 00:01:18.482 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.499 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.511 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.514 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.516 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.518 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.520 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.521 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.523 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.525 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:18.528 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:18.537 -06:00 [DBG] Executing 2 update commands as a batch.
2024-12-23 00:01:18.539 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:18.541 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:18.543 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.545 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.546 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:18.548 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:18.571 -06:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:18.576 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:01:18.581 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:01:18.585 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.587 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 10ms reading results.
2024-12-23 00:01:18.599 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:18.603 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:18.604 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.606 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.608 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 2 entities written to the database.
2024-12-23 00:01:18.611 -06:00 [DBG] Committing transaction.
2024-12-23 00:01:18.613 -06:00 [DBG] Committed transaction.
2024-12-23 00:01:18.614 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.615 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:01:18.617 -06:00 [INF] Transacción completada exitosamente para la orden ID: 4
2024-12-23 00:01:18.619 -06:00 [DBG] Disposing transaction.
2024-12-23 00:01:18.622 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:01:18.623 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:01:18.624 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:01:18.625 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:01:18.626 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:01:18.627 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:01:18.639 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 554.7336ms
2024-12-23 00:01:18.640 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:01:18.641 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:01:18.642 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.643 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:01:18.644 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 499 null application/json; charset=utf-8 584.4496ms
2024-12-23 00:01:18.648 -06:00 [DBG] Connection id "0HN931HM77OUU" stopped.
2024-12-23 00:01:18.697 -06:00 [DBG] Connection id "0HN931HM77OUV" accepted.
2024-12-23 00:01:18.698 -06:00 [DBG] Connection id "0HN931HM77OUV" started.
2024-12-23 00:01:18.699 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:01:18.702 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:01:18.703 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:01:18.705 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:01:18.706 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:01:18.707 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:01:18.708 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:01:18.709 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:01:18.710 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:01:18.711 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:01:18.713 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:01:18.714 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:01:18.715 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:01:18.716 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:01:18.718 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:01:18.719 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:01:18.721 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:01:18.722 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:01:18.722 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:01:18.723 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:01:18.724 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:01:18.725 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:01:18.726 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:01:18.728 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:01:18.728 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:01:18.729 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.731 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.733 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:18.734 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:18.735 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:18.736 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:01:18.738 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:01:18.740 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.743 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:18.746 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.747 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 7ms reading results.
2024-12-23 00:01:18.748 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.749 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 00:01:18.751 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:01:18.751 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:01:18.753 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:01:18.753 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:01:18.754 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:01:18.754 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:01:18.755 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:01:18.757 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 37.8987ms
2024-12-23 00:01:18.759 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:01:18.760 -06:00 [DBG] Connection id "0HN931HM77OUV" completed keep alive response.
2024-12-23 00:01:18.761 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:01:18.762 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:18.763 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 00:01:18.764 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 64.8383ms
2024-12-23 00:01:59.560 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:01:59.566 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:01:59.567 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:01:59.568 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:01:59.569 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:01:59.570 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:01:59.571 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:01:59.572 -06:00 [DBG] Connection id "0HN931HM77OUV" completed keep alive response.
2024-12-23 00:01:59.576 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 15.6123ms
2024-12-23 00:01:59.580 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 76
2024-12-23 00:01:59.583 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:01:59.584 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:01:59.586 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:01:59.587 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:01:59.588 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:01:59.589 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:01:59.591 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:01:59.592 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:01:59.593 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:01:59.595 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:01:59.598 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:01:59.600 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:01:59.602 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:01:59.604 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:01:59.606 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:01:59.608 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:01:59.609 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:01:59.611 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:01:59.613 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:01:59.615 -06:00 [DBG] Connection id "0HN931HM77OUV", Request id "0HN931HM77OUV:00000003": started reading request body.
2024-12-23 00:01:59.617 -06:00 [DBG] Connection id "0HN931HM77OUV", Request id "0HN931HM77OUV:00000003": done reading request body.
2024-12-23 00:01:59.619 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:01:59.620 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:01:59.622 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:01:59.623 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:01:59.625 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:01:59.627 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:01:59.629 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:01:59.630 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:01:59.632 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:01:59.634 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":3,"Quantity":1,"$type":"CreateOrderDetailModel"},{"ProductId":3,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:01:59.642 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:01:59.644 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:01:59.645 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:01:59.646 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.649 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.653 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:01:59.660 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:01:59.662 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:01:59.663 -06:00 [INF] Procesando detalle de la orden: ProductoId = 3, Cantidad = 1
2024-12-23 00:01:59.666 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.667 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.669 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:01:59.671 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:01:59.675 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:01:59.678 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.680 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.682 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:01:59.684 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.687 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.688 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.690 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:59.692 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:59.694 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:59.696 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.697 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.699 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:01:59.701 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:59.704 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:59.711 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.713 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:01:59.714 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:59.716 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:59.717 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.719 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:01:59.721 -06:00 [INF] Stock actualizado para el producto Prod2. Stock restante: 2331
2024-12-23 00:01:59.722 -06:00 [INF] Procesando detalle de la orden: ProductoId = 3, Cantidad = 1
2024-12-23 00:01:59.724 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.726 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.727 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.728 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:59.730 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:59.732 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:59.734 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.735 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.736 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:59.738 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:59.742 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:01:59.744 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.746 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:01:59.748 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:59.750 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:59.751 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.753 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:01:59.755 -06:00 [INF] Stock actualizado para el producto Prod2. Stock restante: 2330
2024-12-23 00:01:59.756 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.758 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.759 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:59.761 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:59.763 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:59.766 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.767 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:01:59.769 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.771 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.772 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:59.773 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:59.776 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:01:59.779 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.780 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:01:59.782 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.784 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.786 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.787 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.789 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:59.790 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:59.792 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:59.794 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.795 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.797 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:01:59.798 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:59.801 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:59.804 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:01:59.805 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.807 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:01:59.808 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:59.810 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:59.811 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.813 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:01:59.815 -06:00 [INF] Orden creada exitosamente. Total: 22.00, Fecha: "2024-12-23T06:01:59.7827890Z"
2024-12-23 00:01:59.816 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.818 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.820 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.821 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.823 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.825 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.826 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.827 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.829 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.830 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:01:59.832 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:01:59.833 -06:00 [DBG] Executing 2 update commands as a batch.
2024-12-23 00:01:59.834 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:01:59.836 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:01:59.837 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.839 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.840 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:01:59.842 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:59.846 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:01:59.848 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:01:59.850 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:01:59.851 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.853 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:01:59.855 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:01:59.857 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:01:59.858 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.861 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.863 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 2 entities written to the database.
2024-12-23 00:01:59.865 -06:00 [DBG] Committing transaction.
2024-12-23 00:01:59.867 -06:00 [DBG] Committed transaction.
2024-12-23 00:01:59.868 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.870 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:01:59.872 -06:00 [INF] Transacción completada exitosamente para la orden ID: 5
2024-12-23 00:01:59.874 -06:00 [DBG] Disposing transaction.
2024-12-23 00:01:59.875 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:01:59.878 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:01:59.879 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:01:59.880 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:01:59.881 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:01:59.882 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:01:59.883 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 277.2598ms
2024-12-23 00:01:59.885 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:01:59.887 -06:00 [DBG] Connection id "0HN931HM77OUV" completed keep alive response.
2024-12-23 00:01:59.888 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:01:59.890 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.891 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:01:59.894 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 313.2903ms
2024-12-23 00:01:59.897 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:01:59.900 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:01:59.901 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:01:59.903 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:01:59.904 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:01:59.905 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:01:59.906 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:01:59.907 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:01:59.908 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:01:59.909 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:01:59.911 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:01:59.913 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:01:59.914 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:01:59.916 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:01:59.918 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:01:59.919 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:01:59.921 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:01:59.922 -06:00 [DBG] Connection id "0HN931HM77OUV" received FIN.
2024-12-23 00:01:59.923 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:01:59.924 -06:00 [DBG] Connection id "0HN931HM77OUV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 00:01:59.926 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:01:59.928 -06:00 [DBG] Connection id "0HN931HM77OUV" disconnecting.
2024-12-23 00:01:59.930 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:01:59.932 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:01:59.934 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:01:59.935 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:01:59.938 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:01:59.940 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:01:59.941 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.943 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.946 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:01:59.947 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:01:59.949 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:01:59.951 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:01:59.955 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:01:59.958 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.959 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:01:59.961 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.962 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:01:59.965 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.966 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:01:59.968 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:01:59.970 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:01:59.984 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:01:59.985 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:01:59.986 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:01:59.987 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:01:59.989 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:01:59.992 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 72.192ms
2024-12-23 00:01:59.994 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:01:59.995 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:01:59.997 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:01:59.998 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:02:00.000 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 499 null application/json; charset=utf-8 102.935ms
2024-12-23 00:02:00.004 -06:00 [DBG] Connection id "0HN931HM77OUV" stopped.
2024-12-23 00:02:00.145 -06:00 [DBG] Connection id "0HN931HM77OV0" accepted.
2024-12-23 00:02:00.146 -06:00 [DBG] Connection id "0HN931HM77OV0" started.
2024-12-23 00:02:00.147 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:02:00.150 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:02:00.155 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:02:00.156 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:02:00.158 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:02:00.163 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:02:00.164 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:02:00.165 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:02:00.166 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:02:00.168 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:02:00.169 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:02:00.171 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:02:00.173 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:02:00.174 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:02:00.176 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:02:00.178 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:02:00.179 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:02:00.181 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:02:00.182 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:02:00.184 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:02:00.185 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:02:00.186 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:02:00.187 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:02:00.189 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:02:00.190 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:02:00.191 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:02:00.193 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:02:00.195 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:02:00.196 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 00:02:00.197 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:02:00.198 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:02:00.201 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:02:00.202 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:02:00.203 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:02:00.205 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:02:00.206 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:02:00.207 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:02:00.208 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:02:00.209 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:02:00.210 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:02:00.212 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:02:00.213 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:02:00.213 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:02:00.214 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:02:00.215 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:02:00.216 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 37.6765ms
2024-12-23 00:02:00.217 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:02:00.217 -06:00 [DBG] Connection id "0HN931HM77OV0" completed keep alive response.
2024-12-23 00:02:00.218 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:02:00.219 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:02:00.220 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:02:00.221 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 74.3098ms
2024-12-23 00:03:46.787 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:03:46.794 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:03:46.796 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:03:46.798 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:03:46.799 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:03:46.800 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:03:46.801 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:03:46.802 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:03:46.804 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:03:46.805 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:03:46.808 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:03:46.809 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:03:46.811 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:03:46.813 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:03:46.815 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:03:46.816 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:03:46.817 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:03:46.819 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:03:46.820 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:03:46.823 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:03:46.824 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:03:46.825 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:03:46.827 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:03:46.834 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:03:46.835 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:03:46.836 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:46.839 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:46.844 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:46.847 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:03:46.848 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-23 00:03:46.849 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:03:46.852 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:03:46.860 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:46.862 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:46.863 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:46.864 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:03:46.866 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:46.867 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:03:46.869 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:03:46.870 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:03:46.873 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:03:46.874 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:03:46.875 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:03:46.876 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:03:46.877 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:03:46.878 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 62.1702ms
2024-12-23 00:03:46.880 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:03:46.881 -06:00 [DBG] Connection id "0HN931HM77OV0" completed keep alive response.
2024-12-23 00:03:46.882 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:03:46.883 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:46.884 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:03:46.885 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 98.1162ms
2024-12-23 00:03:55.588 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:03:55.591 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:03:55.593 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:03:55.594 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:03:55.595 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:03:55.597 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:03:55.598 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:03:55.600 -06:00 [DBG] Connection id "0HN931HM77OV0" completed keep alive response.
2024-12-23 00:03:55.602 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 14.2342ms
2024-12-23 00:03:55.607 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 76
2024-12-23 00:03:55.611 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:03:55.613 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:03:55.616 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:03:55.617 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:03:55.618 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:03:55.620 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:03:55.621 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:03:55.623 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:03:55.625 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:03:55.628 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:03:55.630 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:03:55.632 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:03:55.635 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:03:55.637 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:03:55.640 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:03:55.642 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:03:55.644 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:03:55.645 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:03:55.647 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:03:55.649 -06:00 [DBG] Connection id "0HN931HM77OV0", Request id "0HN931HM77OV0:00000004": started reading request body.
2024-12-23 00:03:55.651 -06:00 [DBG] Connection id "0HN931HM77OV0", Request id "0HN931HM77OV0:00000004": done reading request body.
2024-12-23 00:03:55.653 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:03:55.654 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:03:55.655 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:03:55.656 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:03:55.658 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:03:55.660 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:03:55.662 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:03:55.664 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:03:55.665 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:03:55.667 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":3,"Quantity":1,"$type":"CreateOrderDetailModel"},{"ProductId":3,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:03:55.675 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:03:55.678 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:03:55.679 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:03:55.680 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.683 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.686 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:03:55.689 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:03:55.691 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:03:55.692 -06:00 [INF] Procesando detalle de la orden: ProductoId = 3, Cantidad = 1
2024-12-23 00:03:55.694 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.695 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:03:55.697 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:03:55.699 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:03:55.703 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:03:55.706 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.708 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.709 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:03:55.711 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.713 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.715 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.716 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:03:55.718 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:03:55.720 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:03:55.721 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.723 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:03:55.724 -06:00 [DBG] Connection id "0HN931HM77OV0" received FIN.
2024-12-23 00:03:55.725 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:03:55.726 -06:00 [DBG] Connection id "0HN931HM77OV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 00:03:55.728 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:03:55.730 -06:00 [DBG] Connection id "0HN931HM77OV0" disconnecting.
2024-12-23 00:03:55.733 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:03:55.740 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.742 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:03:55.744 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:03:55.746 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:03:55.748 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.751 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:03:55.753 -06:00 [INF] Stock actualizado para el producto Prod2. Stock restante: 2329
2024-12-23 00:03:55.755 -06:00 [INF] Procesando detalle de la orden: ProductoId = 3, Cantidad = 1
2024-12-23 00:03:55.757 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.759 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.761 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.762 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:03:55.764 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:03:55.766 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:03:55.768 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.769 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:03:55.771 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:03:55.772 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:03:55.776 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:03:55.779 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.780 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:03:55.782 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:03:55.784 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:03:55.785 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.787 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:03:55.788 -06:00 [INF] Stock actualizado para el producto Prod2. Stock restante: 2328
2024-12-23 00:03:55.790 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.792 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:03:55.793 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:03:55.795 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:03:55.798 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:03:55.800 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.802 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:03:55.805 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.806 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:03:55.808 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:03:55.810 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:03:55.813 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:03:55.816 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.818 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:03:55.821 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.827 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.829 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.831 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.834 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:03:55.837 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:03:55.839 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:03:55.842 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.847 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-12-23 00:03:55.854 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-12-23 00:03:55.858 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:03:55.861 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:03:55.864 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:03:55.881 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.884 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 20ms reading results.
2024-12-23 00:03:55.885 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:03:55.887 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:03:55.888 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.889 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:03:55.891 -06:00 [INF] Orden creada exitosamente. Total: 22.00, Fecha: "2024-12-23T06:03:55.8213409Z"
2024-12-23 00:03:55.892 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.893 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.895 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.896 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.897 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.898 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.899 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.900 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.901 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.902 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:03:55.903 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:03:55.905 -06:00 [DBG] Executing 2 update commands as a batch.
2024-12-23 00:03:55.906 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:03:55.908 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:03:55.909 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.910 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 00:03:55.911 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:03:55.912 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:03:55.915 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:03:55.917 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:03:55.918 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:03:55.920 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.921 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:03:55.922 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:03:55.924 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:03:55.925 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.926 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:55.927 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 2 entities written to the database.
2024-12-23 00:03:55.928 -06:00 [DBG] Committing transaction.
2024-12-23 00:03:55.931 -06:00 [DBG] Committed transaction.
2024-12-23 00:03:55.932 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.933 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:03:55.934 -06:00 [INF] Transacción completada exitosamente para la orden ID: 6
2024-12-23 00:03:55.935 -06:00 [DBG] Disposing transaction.
2024-12-23 00:03:55.936 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:03:55.938 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:03:55.939 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:03:55.939 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:03:55.940 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:03:55.941 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:03:55.943 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 303.8574ms
2024-12-23 00:03:55.945 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:03:55.946 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:03:55.947 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.948 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:03:55.950 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 499 null application/json; charset=utf-8 343.2116ms
2024-12-23 00:03:55.953 -06:00 [DBG] Connection id "0HN931HM77OV0" stopped.
2024-12-23 00:03:55.953 -06:00 [DBG] Connection id "0HN931HM77OV1" accepted.
2024-12-23 00:03:55.955 -06:00 [DBG] Connection id "0HN931HM77OV1" started.
2024-12-23 00:03:55.956 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:03:55.959 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:03:55.960 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:03:55.962 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:03:55.963 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:03:55.964 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:03:55.965 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:03:55.966 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:03:55.967 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:03:55.968 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:03:55.970 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:03:55.971 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:03:55.972 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:03:55.974 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:03:55.975 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:03:55.976 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:03:55.977 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:03:55.978 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:03:55.979 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:03:55.980 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:03:55.981 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:03:55.983 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:03:55.984 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:03:55.986 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:03:55.987 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:03:55.988 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.993 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:55.998 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:03:55.999 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:03:56.001 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:03:56.002 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:03:56.004 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:03:56.005 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:56.007 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:03:56.009 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:56.010 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:03:56.012 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:56.013 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:03:56.014 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:03:56.015 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:03:56.017 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:03:56.018 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:03:56.019 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:03:56.019 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:03:56.020 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:03:56.021 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 45.2062ms
2024-12-23 00:03:56.022 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:03:56.024 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:03:56.025 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:03:56.026 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:03:56.027 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:03:56.028 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 72.0545ms
2024-12-23 00:04:14.873 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:04:14.877 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:04:14.879 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:04:14.880 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:04:14.881 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:04:14.883 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:04:14.884 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:04:14.885 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:04:14.886 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 12.9465ms
2024-12-23 00:04:14.890 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 47
2024-12-23 00:04:14.893 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:04:14.894 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:04:14.896 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:04:14.897 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:04:14.898 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:04:14.900 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:04:14.900 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:04:14.902 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:04:14.903 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:04:14.905 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:04:14.907 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:04:14.908 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:04:14.910 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:04:14.912 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:04:14.915 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:04:14.917 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:04:14.918 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:04:14.920 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:04:14.922 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:04:14.923 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000003": started reading request body.
2024-12-23 00:04:14.925 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000003": done reading request body.
2024-12-23 00:04:14.927 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:04:14.928 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:04:14.929 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:04:14.931 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:04:14.933 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:04:14.935 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:04:14.937 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:04:14.939 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:04:14.941 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:04:14.942 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:04:14.947 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:04:14.950 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:04:14.951 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:04:14.952 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:14.955 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:14.958 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:04:14.961 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:04:14.963 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:04:14.964 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 1
2024-12-23 00:04:14.965 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:04:14.967 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:04:14.968 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:04:14.970 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:04:14.974 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:04:14.977 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:14.979 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:14.981 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:04:14.983 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:14.985 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:04:14.987 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:04:14.988 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:04:14.990 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:04:14.993 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:04:14.994 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:04:14.996 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:04:14.998 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:04:14.999 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:04:15.003 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:04:15.006 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.008 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:04:15.010 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:04:15.011 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:04:15.013 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.015 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:04:15.017 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 21
2024-12-23 00:04:15.019 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:04:15.020 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:04:15.022 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:04:15.023 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:04:15.026 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:04:15.028 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.030 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:04:15.031 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.033 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.034 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:04:15.036 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:04:15.037 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:04:15.038 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:04:15.040 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:04:15.041 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:04:15.042 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:04:15.044 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:04:15.046 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:04:15.049 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:04:15.051 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:04:15.053 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.054 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:04:15.056 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:04:15.058 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:04:15.059 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.061 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:04:15.063 -06:00 [INF] Orden creada exitosamente. Total: 122.00, Fecha: "2024-12-23T06:04:15.0318927Z"
2024-12-23 00:04:15.065 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.067 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.068 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.070 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.071 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:04:15.073 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:04:15.074 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:04:15.076 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:04:15.078 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:04:15.079 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:04:15.080 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:04:15.082 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:04:15.083 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:04:15.087 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:04:15.090 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:04:15.091 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.093 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:04:15.095 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:04:15.097 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:04:15.098 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.100 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:04:15.102 -06:00 [DBG] Committing transaction.
2024-12-23 00:04:15.104 -06:00 [DBG] Committed transaction.
2024-12-23 00:04:15.106 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.107 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:04:15.109 -06:00 [INF] Transacción completada exitosamente para la orden ID: 7
2024-12-23 00:04:15.110 -06:00 [DBG] Disposing transaction.
2024-12-23 00:04:15.111 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:04:15.114 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:04:15.115 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:04:15.116 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:04:15.116 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:04:15.118 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:04:15.119 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 204.6444ms
2024-12-23 00:04:15.121 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:04:15.123 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:04:15.124 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:04:15.125 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.127 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:04:15.129 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 238.4529ms
2024-12-23 00:04:15.133 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:04:15.136 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:04:15.138 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:04:15.140 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:04:15.141 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:04:15.142 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:04:15.143 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:04:15.145 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:04:15.146 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:04:15.147 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:04:15.149 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:04:15.151 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:04:15.153 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:04:15.155 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:04:15.157 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:04:15.160 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:04:15.161 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:04:15.163 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:04:15.165 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:04:15.166 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:04:15.168 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:04:15.169 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:04:15.170 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:04:15.173 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:04:15.174 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:04:15.175 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.178 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.181 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:04:15.183 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:04:15.184 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:04:15.186 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:04:15.189 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:04:15.192 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.194 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.195 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.197 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:04:15.199 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.200 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:04:15.202 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:04:15.204 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:04:15.206 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:04:15.207 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:04:15.209 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:04:15.209 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:04:15.211 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:04:15.213 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 53.0291ms
2024-12-23 00:04:15.214 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:04:15.216 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:04:15.217 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:04:15.218 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.220 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:04:15.222 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 88.4824ms
2024-12-23 00:04:15.449 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:04:15.452 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:04:15.453 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:04:15.455 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:04:15.456 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:04:15.457 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:04:15.458 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:04:15.459 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:04:15.460 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:04:15.461 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:04:15.463 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:04:15.465 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:04:15.466 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:04:15.468 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:04:15.469 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:04:15.471 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:04:15.472 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:04:15.473 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:04:15.474 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:04:15.476 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:04:15.477 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:04:15.478 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:04:15.481 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:04:15.483 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:04:15.483 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:04:15.484 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.486 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.489 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:04:15.490 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:04:15.491 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:04:15.492 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:04:15.494 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:04:15.496 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.497 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:04:15.498 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.499 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:04:15.501 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.502 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:04:15.503 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:04:15.504 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:04:15.506 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:04:15.507 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:04:15.507 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:04:15.508 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:04:15.509 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:04:15.511 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 39.563ms
2024-12-23 00:04:15.512 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:04:15.513 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:04:15.514 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:04:15.515 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:04:15.516 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:04:15.518 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 68.5837ms
2024-12-23 00:04:51.115 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:04:51.121 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:04:51.122 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:04:51.123 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:04:51.124 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:04:51.125 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:04:51.126 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:04:51.126 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:04:51.128 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 13.8409ms
2024-12-23 00:04:51.134 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 43
2024-12-23 00:04:51.137 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:04:51.138 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:04:51.140 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:04:51.141 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:04:51.142 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:04:51.143 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:04:51.144 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:04:51.145 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:04:51.146 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:04:51.148 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:04:51.149 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:04:51.151 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:04:51.153 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:04:51.154 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:04:51.156 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:04:51.157 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:04:51.159 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:04:51.160 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:04:51.162 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:04:51.163 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000007": started reading request body.
2024-12-23 00:04:51.165 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000007": done reading request body.
2024-12-23 00:04:51.166 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:04:51.167 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:04:51.169 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:04:51.170 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:04:51.172 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:04:51.173 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:04:51.175 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:04:51.176 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:04:51.177 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:04:51.179 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:04:51.180 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:04:51.181 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:04:51.183 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:04:51.184 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:04:51.187 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:04:51.188 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:04:51.190 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 33.7813ms
2024-12-23 00:04:51.191 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:04:51.193 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:04:51.194 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 59.5163ms
2024-12-23 00:05:24.716 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:05:24.722 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:05:24.723 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:05:24.724 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:05:24.725 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:05:24.726 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:05:24.727 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:05:24.728 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:05:24.729 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 13.1352ms
2024-12-23 00:05:24.732 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 43
2024-12-23 00:05:24.735 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:05:24.736 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:05:24.738 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:05:24.739 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:05:24.740 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:05:24.741 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:05:24.741 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:05:24.743 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:05:24.744 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:05:24.746 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:05:24.748 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:05:24.749 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:05:24.751 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:05:24.752 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:05:24.754 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:05:24.756 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:05:24.757 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:05:24.758 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:05:24.760 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:05:24.761 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000009": started reading request body.
2024-12-23 00:05:24.763 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000009": done reading request body.
2024-12-23 00:05:24.764 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:05:24.765 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:05:24.767 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:05:24.768 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:05:24.770 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:05:24.772 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:05:24.773 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:05:24.774 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:05:24.776 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:05:24.778 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:05:24.778 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:05:24.780 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:05:24.782 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:05:24.783 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:05:24.785 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:05:24.787 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:05:24.788 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 33.6764ms
2024-12-23 00:05:24.789 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:05:24.791 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:05:24.792 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 59.4426ms
2024-12-23 00:05:32.101 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:05:32.103 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:05:32.104 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:05:32.106 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:05:32.107 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:05:32.108 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:05:32.109 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:05:32.110 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:05:32.111 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:05:32.112 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:05:32.114 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:05:32.115 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:05:32.117 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:05:32.118 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:05:32.120 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:05:32.122 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:05:32.124 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:05:32.125 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:05:32.127 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:05:32.128 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:05:32.130 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:05:32.131 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:05:32.134 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:05:32.138 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:05:32.139 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:05:32.141 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:05:32.145 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:05:32.151 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:05:32.153 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:05:32.154 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:05:32.155 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:05:32.158 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:05:32.163 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:05:32.164 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:05:32.165 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:05:32.166 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:05:32.168 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:05:32.169 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:05:32.170 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:05:32.171 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:05:32.173 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:05:32.174 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:05:32.175 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:05:32.175 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:05:32.176 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:05:32.177 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 55.0885ms
2024-12-23 00:05:32.178 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:05:32.180 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:05:32.181 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:05:32.182 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:05:32.184 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:05:32.185 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 84.4943ms
2024-12-23 00:05:40.958 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:05:40.961 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:05:40.962 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:05:40.963 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:05:40.964 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:05:40.965 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:05:40.966 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:05:40.967 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:05:40.969 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 11.3242ms
2024-12-23 00:05:40.972 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 72
2024-12-23 00:05:40.975 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:05:40.976 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:05:40.978 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:05:40.979 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:05:40.980 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:05:40.981 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:05:40.981 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:05:40.983 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:05:40.984 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:05:40.986 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:05:40.987 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:05:40.989 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:05:40.991 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:05:40.992 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:05:40.994 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:05:40.996 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:05:40.997 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:05:40.998 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:05:41.000 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:05:41.001 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:0000000C": started reading request body.
2024-12-23 00:05:41.003 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:0000000C": done reading request body.
2024-12-23 00:05:41.004 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:05:41.005 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:05:41.006 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:05:41.008 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:05:41.009 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:05:41.010 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:05:41.012 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:05:41.013 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:05:41.014 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:05:41.016 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:05:41.017 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:05:41.018 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:05:41.020 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:05:41.021 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:05:41.023 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:05:41.025 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:05:41.026 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 31.9977ms
2024-12-23 00:05:41.028 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:05:41.029 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:05:41.030 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 57.8982ms
2024-12-23 00:06:36.408 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:06:36.415 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:06:36.416 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:06:36.418 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:06:36.419 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:06:36.421 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:06:36.424 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:06:36.425 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:06:36.426 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 18.0342ms
2024-12-23 00:06:36.433 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 72
2024-12-23 00:06:36.436 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:06:36.437 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:06:36.439 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:06:36.440 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:06:36.441 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:06:36.442 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:06:36.443 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:06:36.444 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:06:36.445 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:06:36.447 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:06:36.448 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:06:36.450 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:06:36.452 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:06:36.453 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:06:36.455 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:06:36.457 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:06:36.458 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:06:36.459 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:06:36.461 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:06:36.462 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:0000000E": started reading request body.
2024-12-23 00:06:36.464 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:0000000E": done reading request body.
2024-12-23 00:06:36.465 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:06:36.466 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:06:36.468 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:06:36.469 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:06:36.470 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:06:36.472 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:06:36.473 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:06:36.475 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:06:36.476 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:06:36.477 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:06:36.478 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:06:36.479 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:06:36.482 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:06:36.482 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:06:36.485 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:06:36.486 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:06:36.487 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 32.2157ms
2024-12-23 00:06:36.489 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:06:36.490 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:06:36.492 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 58.4048ms
2024-12-23 00:07:04.679 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:07:04.686 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:07:04.688 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:07:04.689 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:04.690 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:04.691 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:04.692 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:07:04.693 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:04.695 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 15.5826ms
2024-12-23 00:07:04.701 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 72
2024-12-23 00:07:04.704 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:07:04.705 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:07:04.707 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:04.708 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:04.709 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:04.710 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:04.711 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:07:04.713 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:04.714 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:07:04.716 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:07:04.718 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:07:04.719 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:07:04.722 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:07:04.723 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:07:04.725 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:04.727 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:04.728 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:04.730 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:07:04.732 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:07:04.733 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000010": started reading request body.
2024-12-23 00:07:04.735 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000010": done reading request body.
2024-12-23 00:07:04.736 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:07:04.738 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:04.739 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:04.741 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:04.742 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:04.744 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:04.746 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:04.747 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:04.749 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:04.751 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:07:04.751 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:07:04.753 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:07:04.755 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:07:04.756 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:07:04.759 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:07:04.760 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:07:04.762 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 36.6296ms
2024-12-23 00:07:04.764 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:04.765 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:04.766 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 65.0213ms
2024-12-23 00:07:13.350 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:07:13.353 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:07:13.354 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:07:13.355 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:13.356 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:13.357 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:13.358 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:07:13.359 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:13.360 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 10.3253ms
2024-12-23 00:07:13.367 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 72
2024-12-23 00:07:13.370 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:07:13.371 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:07:13.373 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:13.374 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:13.375 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:13.376 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:13.377 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:07:13.378 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:13.379 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:07:13.382 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:07:13.383 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:07:13.385 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:07:13.388 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:07:13.390 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:07:13.392 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:13.394 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:13.395 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:13.396 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:07:13.398 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:07:13.400 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000012": started reading request body.
2024-12-23 00:07:13.401 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000012": done reading request body.
2024-12-23 00:07:13.402 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:07:13.404 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:13.405 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:13.407 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:13.408 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:13.410 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:13.411 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:13.413 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:13.414 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:13.416 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:07:13.417 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:07:13.418 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:07:13.420 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:07:13.421 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:07:13.423 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:07:13.425 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:07:13.426 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 34.1997ms
2024-12-23 00:07:13.428 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:13.429 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:13.431 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 63.1839ms
2024-12-23 00:07:15.568 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:07:15.570 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:07:15.571 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:07:15.573 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:07:15.574 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:15.574 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:15.575 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:15.576 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:07:15.578 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:07:15.579 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:07:15.581 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:07:15.584 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:07:15.586 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:07:15.587 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:07:15.589 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:07:15.591 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:07:15.592 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:07:15.594 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:07:15.608 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:07:15.610 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:07:15.611 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:07:15.613 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:07:15.614 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:07:15.616 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:07:15.617 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:07:15.619 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:07:15.621 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:07:15.627 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:07:15.628 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:07:15.629 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:07:15.630 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:07:15.633 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:07:15.636 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:07:15.637 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:07:15.639 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:07:15.640 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:07:15.642 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:07:15.643 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:07:15.644 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:07:15.646 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:07:15.647 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:07:15.648 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:07:15.649 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:07:15.650 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:07:15.651 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:07:15.652 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 61.5684ms
2024-12-23 00:07:15.653 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:07:15.655 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:15.656 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:07:15.659 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:07:15.660 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:07:15.662 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 93.761ms
2024-12-23 00:07:19.804 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:07:19.807 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:07:19.809 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:07:19.811 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:19.812 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:19.813 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:19.814 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:07:19.815 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:19.816 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 11.9543ms
2024-12-23 00:07:19.820 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 43
2024-12-23 00:07:19.822 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:07:19.823 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:07:19.825 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:19.826 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:19.827 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:19.828 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:19.829 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:07:19.830 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:19.831 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:07:19.833 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:07:19.835 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:07:19.836 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:07:19.838 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:07:19.840 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:07:19.842 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:19.843 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:19.844 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:19.846 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:07:19.847 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:07:19.849 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000015": started reading request body.
2024-12-23 00:07:19.850 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000015": done reading request body.
2024-12-23 00:07:19.852 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:07:19.853 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:19.854 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:19.856 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:19.858 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:19.860 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:19.861 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:19.863 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:19.864 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:19.866 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:07:19.866 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:07:19.868 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:07:19.870 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:07:19.871 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:07:19.873 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:07:19.875 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:07:19.876 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 34.8952ms
2024-12-23 00:07:19.878 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:19.879 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:19.881 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 61.0394ms
2024-12-23 00:07:23.317 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 72
2024-12-23 00:07:23.320 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:07:23.322 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:07:23.323 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:23.324 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:07:23.325 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:07:23.326 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:07:23.328 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:07:23.329 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:23.330 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:07:23.332 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:07:23.334 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:07:23.335 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:07:23.337 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:07:23.339 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:07:23.341 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:23.342 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:07:23.344 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:23.345 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:07:23.346 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:07:23.348 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000016": started reading request body.
2024-12-23 00:07:23.349 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000016": done reading request body.
2024-12-23 00:07:23.351 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:07:23.352 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:23.353 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:23.354 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:07:23.356 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:07:23.357 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:23.358 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:23.360 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:07:23.361 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:07:23.363 -06:00 [DBG] The request has model state errors, returning an error response.
2024-12-23 00:07:23.363 -06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-12-23 00:07:23.364 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:07:23.367 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:07:23.368 -06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-12-23 00:07:23.370 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-12-23 00:07:23.372 -06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-12-23 00:07:23.373 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 32.1025ms
2024-12-23 00:07:23.375 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:07:23.376 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:07:23.378 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 400 null application/problem+json; charset=utf-8 60.1605ms
2024-12-23 00:08:31.929 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:08:31.935 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:08:31.936 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:08:31.937 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:08:31.938 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:08:31.939 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:08:31.940 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:08:31.941 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:08:31.942 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 13.1332ms
2024-12-23 00:08:31.948 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 76
2024-12-23 00:08:31.951 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:08:31.952 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:08:31.954 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:08:31.955 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:08:31.956 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:08:31.957 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:08:31.957 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:08:31.958 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:08:31.960 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:08:31.961 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:08:31.963 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:08:31.964 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:08:31.966 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:08:31.968 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:08:31.970 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:08:31.971 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:08:31.972 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:08:31.974 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:08:31.975 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:08:31.977 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000018": started reading request body.
2024-12-23 00:08:31.978 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:00000018": done reading request body.
2024-12-23 00:08:31.979 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:08:31.981 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:08:31.982 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:08:31.983 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:08:31.985 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:08:31.986 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:08:31.987 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:08:31.989 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:08:31.990 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:08:31.991 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":1,"$type":"CreateOrderDetailModel"},{"ProductId":3,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:08:31.998 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:08:32.000 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:08:32.001 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:08:32.002 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.006 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.007 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:08:32.010 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:08:32.011 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:08:32.012 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 1
2024-12-23 00:08:32.014 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.015 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.016 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.017 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:08:32.021 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:08:32.026 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.028 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.030 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:08:32.032 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.034 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.035 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.036 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:08:32.037 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:08:32.039 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:08:32.040 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.042 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.043 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.044 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:08:32.047 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:08:32.050 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.051 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:08:32.053 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:08:32.054 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:08:32.055 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.057 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:08:32.059 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 20
2024-12-23 00:08:32.060 -06:00 [INF] Procesando detalle de la orden: ProductoId = 3, Cantidad = 1
2024-12-23 00:08:32.062 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.063 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.064 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.065 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:08:32.068 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:08:32.071 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.072 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.074 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:08:32.075 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.077 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.079 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.080 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:08:32.081 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:08:32.083 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:08:32.084 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.085 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.086 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.088 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:08:32.091 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:08:32.093 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.095 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:08:32.096 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:08:32.098 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:08:32.099 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.101 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:08:32.102 -06:00 [INF] Stock actualizado para el producto Prod2. Stock restante: 2327
2024-12-23 00:08:32.104 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.105 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.106 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.108 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:08:32.110 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:08:32.112 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.114 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:08:32.115 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.117 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.118 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.119 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:08:32.122 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:08:32.124 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.126 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:08:32.128 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.129 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.131 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.132 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.133 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:08:32.135 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:08:32.137 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:08:32.138 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.139 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.140 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.142 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:08:32.145 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:08:32.147 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:08:32.149 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.150 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:08:32.152 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:08:32.154 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:08:32.155 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.157 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:08:32.158 -06:00 [INF] Orden creada exitosamente. Total: 133.00, Fecha: "2024-12-23T06:08:32.1280129Z"
2024-12-23 00:08:32.160 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.161 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.163 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.164 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.166 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.167 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.169 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.171 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.172 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.173 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:08:32.174 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:08:32.176 -06:00 [DBG] Executing 2 update commands as a batch.
2024-12-23 00:08:32.177 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:08:32.179 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:08:32.180 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:08:32.181 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:08:32.182 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:08:32.184 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:08:32.187 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p3, @p4, @p5);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:08:32.190 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:08:32.191 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:08:32.192 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.194 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:08:32.195 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:08:32.197 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:08:32.198 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.200 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:08:32.202 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 2 entities written to the database.
2024-12-23 00:08:32.203 -06:00 [DBG] Committing transaction.
2024-12-23 00:08:32.206 -06:00 [DBG] Committed transaction.
2024-12-23 00:08:32.206 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.208 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:08:32.210 -06:00 [INF] Transacción completada exitosamente para la orden ID: 8
2024-12-23 00:08:32.211 -06:00 [DBG] Disposing transaction.
2024-12-23 00:08:32.211 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:08:32.214 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:08:32.215 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:08:32.216 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:08:32.216 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:08:32.218 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:08:32.219 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 249.6871ms
2024-12-23 00:08:32.221 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:08:32.222 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:08:32.223 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:08:32.224 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:08:32.226 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:08:32.228 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 279.3658ms
2024-12-23 00:10:24.586 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:10:24.592 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:10:24.593 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:10:24.594 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:10:24.595 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:10:24.596 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:10:24.597 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:10:24.598 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:10:24.599 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 13.6967ms
2024-12-23 00:10:24.605 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:10:24.608 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:10:24.609 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:10:24.611 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:24.612 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:10:24.613 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:10:24.614 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:10:24.615 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:10:24.616 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:24.617 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:10:24.620 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:10:24.621 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:10:24.623 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:10:24.625 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:10:24.627 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:10:24.629 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:24.630 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:24.632 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:10:24.633 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:10:24.634 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:10:24.636 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:10:24.637 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:10:24.638 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:10:24.641 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:10:24.642 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:10:24.643 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:24.646 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:24.648 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:10:24.649 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:10:24.651 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:10:24.654 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:10:24.657 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:10:24.660 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:24.662 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:24.664 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:24.665 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:10:24.667 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:24.668 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:10:24.670 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:10:24.672 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:10:24.674 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:10:24.676 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:10:24.677 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:10:24.678 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:10:24.680 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:10:24.682 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 52.9462ms
2024-12-23 00:10:24.683 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:24.685 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:10:24.686 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:10:24.687 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:24.690 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (2ms).
2024-12-23 00:10:24.692 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 86.3691ms
2024-12-23 00:10:29.274 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:10:29.277 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:10:29.279 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:10:29.280 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:29.283 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:10:29.283 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:10:29.285 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:10:29.285 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:10:29.287 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:29.288 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:10:29.290 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:10:29.292 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:10:29.294 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:10:29.296 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:10:29.298 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:10:29.300 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:29.301 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:29.302 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:10:29.303 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:10:29.304 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:10:29.306 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:10:29.308 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:10:29.310 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:10:29.313 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:10:29.314 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:10:29.315 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:29.318 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:29.320 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:10:29.321 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:10:29.324 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:10:29.325 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:10:29.328 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:10:29.330 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:29.331 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:29.333 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:29.334 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:10:29.336 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:29.337 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:10:29.339 -06:00 [INF] Se obtuvieron 2 productos.
2024-12-23 00:10:29.341 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:10:29.343 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:10:29.344 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:10:29.344 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:10:29.345 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:10:29.347 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:10:29.348 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 48.5539ms
2024-12-23 00:10:29.350 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:29.351 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:10:29.352 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:10:29.353 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:29.355 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:10:29.357 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 83.3058ms
2024-12-23 00:10:43.994 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/create - null null
2024-12-23 00:10:43.997 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/create'
2024-12-23 00:10:43.998 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:10:43.999 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:10:44.000 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:10:44.001 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:10:44.002 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:10:44.003 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:10:44.004 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/create - 204 null null 9.8786ms
2024-12-23 00:10:44.007 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/product/create - application/json 64
2024-12-23 00:10:44.009 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/create'
2024-12-23 00:10:44.011 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)' with route pattern 'api/v1/product/create' is valid for the request path '/api/v1/product/create'
2024-12-23 00:10:44.012 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)'
2024-12-23 00:10:44.013 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:10:44.014 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:10:44.015 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:10:44.016 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:10:44.017 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)'
2024-12-23 00:10:44.019 -06:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Product.Models.CreateProductModel, Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:10:44.020 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:10:44.022 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:10:44.023 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:10:44.025 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:10:44.027 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:10:44.028 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:44.030 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:44.031 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel' ...
2024-12-23 00:10:44.033 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel' using the name '' in request data ...
2024-12-23 00:10:44.034 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:10:44.036 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:0000001D": started reading request body.
2024-12-23 00:10:44.037 -06:00 [DBG] Connection id "0HN931HM77OV1", Request id "0HN931HM77OV1:0000001D": done reading request body.
2024-12-23 00:10:44.038 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Product.Models.CreateProductModel'
2024-12-23 00:10:44.039 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel'.
2024-12-23 00:10:44.041 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel'.
2024-12-23 00:10:44.042 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel' ...
2024-12-23 00:10:44.043 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel'.
2024-12-23 00:10:44.045 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand' ...
2024-12-23 00:10:44.047 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand'.
2024-12-23 00:10:44.049 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand' ...
2024-12-23 00:10:44.050 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand'.
2024-12-23 00:10:44.052 -06:00 [INF] Iniciando la creación del producto. Detalles del producto: {"Name":"Prod3","Description":"Desc3","Price":12,"Stock":13,"$type":"CreateProductModel"}
2024-12-23 00:10:44.056 -06:00 [INF] Producto mapeado con éxito. Nombre: Prod3, Precio: 12
2024-12-23 00:10:44.058 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:10:44.061 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'ProductEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:44.062 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:44.064 -06:00 [INF] Producto Prod3 agregado a la base de datos.
2024-12-23 00:10:44.065 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:10:44.066 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:10:44.067 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:10:44.069 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:10:44.070 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:10:44.071 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.073 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.076 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:10:44.079 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:10:44.081 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:10:44.082 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:10:44.083 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:10:44.084 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Products` (`Description`, `Name`, `Price`, `Stock`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `Id`, `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:10:44.088 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Products` (`Description`, `Name`, `Price`, `Stock`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `Id`, `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:10:44.090 -06:00 [DBG] The foreign key property 'ProductEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:10:44.091 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.092 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:10:44.094 -06:00 [DBG] Committing transaction.
2024-12-23 00:10:44.097 -06:00 [DBG] Committed transaction.
2024-12-23 00:10:44.097 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.099 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:10:44.100 -06:00 [DBG] Disposing transaction.
2024-12-23 00:10:44.101 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:44.103 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:10:44.105 -06:00 [INF] Producto Prod3 guardado con éxito.
2024-12-23 00:10:44.106 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:10:44.108 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:10:44.109 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:10:44.110 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:10:44.110 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:10:44.112 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:10:44.113 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.Create (Backend.Api) in 84.6285ms
2024-12-23 00:10:44.115 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)'
2024-12-23 00:10:44.116 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:10:44.117 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:10:44.119 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.120 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:10:44.122 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/product/create - 201 null application/json; charset=utf-8 114.6844ms
2024-12-23 00:10:44.129 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:10:44.131 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:10:44.133 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:10:44.134 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:10:44.135 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:10:44.136 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:10:44.137 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:10:44.138 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:10:44.139 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 10.7023ms
2024-12-23 00:10:44.143 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:10:44.146 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:10:44.147 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:10:44.149 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:44.150 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:10:44.151 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:10:44.152 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:10:44.153 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:10:44.154 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:44.156 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:10:44.158 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:10:44.159 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:10:44.161 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:10:44.163 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:10:44.165 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:10:44.167 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:44.168 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:10:44.170 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:10:44.172 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:10:44.173 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:10:44.175 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:10:44.176 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:10:44.178 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:10:44.180 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:10:44.181 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:10:44.182 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.185 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.188 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:10:44.189 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:10:44.190 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:10:44.192 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:10:44.195 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:10:44.197 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:44.199 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:44.201 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:10:44.202 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.204 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 6ms reading results.
2024-12-23 00:10:44.206 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.207 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:10:44.209 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:10:44.210 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:10:44.213 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:10:44.214 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:10:44.215 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:10:44.215 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:10:44.217 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:10:44.219 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 52.2865ms
2024-12-23 00:10:44.221 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:10:44.222 -06:00 [DBG] Connection id "0HN931HM77OV1" completed keep alive response.
2024-12-23 00:10:44.223 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:10:44.224 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:10:44.226 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:10:44.227 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 84.7043ms
2024-12-23 00:15:55.352 -06:00 [DBG] Connection id "0HN931HM77OV1" received FIN.
2024-12-23 00:15:55.356 -06:00 [DBG] Connection id "0HN931HM77OV1" disconnecting.
2024-12-23 00:15:55.361 -06:00 [DBG] Connection id "0HN931HM77OV1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 00:15:55.363 -06:00 [DBG] Connection id "0HN931HM77OV1" stopped.
2024-12-23 00:16:18.666 -06:00 [DBG] Connection id "0HN931HM77OV2" accepted.
2024-12-23 00:16:18.672 -06:00 [DBG] Connection id "0HN931HM77OV2" started.
2024-12-23 00:16:18.674 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-asll - null null
2024-12-23 00:16:18.677 -06:00 [DBG] No candidates found for the request path '/api/v1/product/get-asll'
2024-12-23 00:16:18.678 -06:00 [DBG] Request did not match any endpoints
2024-12-23 00:16:18.679 -06:00 [DBG] OPTIONS requests are not supported
2024-12-23 00:16:18.680 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:16:18.681 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:16:18.682 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:16:18.682 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:16:18.683 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-asll - 204 null null 9.2732ms
2024-12-23 00:16:18.692 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-asll - application/json null
2024-12-23 00:16:18.695 -06:00 [DBG] No candidates found for the request path '/api/v1/product/get-asll'
2024-12-23 00:16:18.696 -06:00 [DBG] Request did not match any endpoints
2024-12-23 00:16:18.697 -06:00 [DBG] The request path /api/v1/product/get-asll does not match a supported file type
2024-12-23 00:16:18.698 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:16:18.699 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:16:18.700 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:16:18.701 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:16:18.702 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-asll - 404 0 null 9.7284ms
2024-12-23 00:16:18.705 -06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/v1/product/get-asll, Response status code: 404
2024-12-23 00:16:44.785 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-asll - null null
2024-12-23 00:16:44.792 -06:00 [DBG] No candidates found for the request path '/api/v1/product/get-asll'
2024-12-23 00:16:44.794 -06:00 [DBG] Request did not match any endpoints
2024-12-23 00:16:44.795 -06:00 [DBG] OPTIONS requests are not supported
2024-12-23 00:16:44.796 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:16:44.797 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:16:44.798 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:16:44.799 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:16:44.804 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-asll - 204 null null 18.8645ms
2024-12-23 00:16:44.810 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-asll - application/json null
2024-12-23 00:16:44.813 -06:00 [DBG] No candidates found for the request path '/api/v1/product/get-asll'
2024-12-23 00:16:44.814 -06:00 [DBG] Request did not match any endpoints
2024-12-23 00:16:44.815 -06:00 [DBG] The request path /api/v1/product/get-asll does not match a supported file type
2024-12-23 00:16:44.828 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:16:44.830 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:16:44.831 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:16:44.832 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:16:44.833 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-asll - 404 0 null 23.1797ms
2024-12-23 00:16:44.839 -06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5101/api/v1/product/get-asll, Response status code: 404
2024-12-23 00:17:00.377 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:17:00.393 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:17:00.418 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:17:00.420 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:17:00.424 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:17:00.425 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:17:00.427 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:17:00.428 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:17:00.432 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 55.4684ms
2024-12-23 00:17:00.437 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:17:00.444 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:17:00.445 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:17:00.446 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:17:00.448 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:17:00.449 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:17:00.451 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:17:00.451 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:17:00.453 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:17:00.453 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:17:00.456 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:17:00.457 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:17:00.459 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:17:00.461 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:17:00.462 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:17:00.465 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:17:00.466 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:17:00.467 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:17:00.469 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:17:00.470 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:17:00.473 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:17:00.475 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:17:00.476 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:17:00.478 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:17:00.481 -06:00 [DBG] Created DbConnection. (2ms).
2024-12-23 00:17:00.482 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:00.505 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:00.506 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:17:00.508 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:17:00.509 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:17:00.511 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:17:00.515 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:17:00.517 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:00.518 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:00.519 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:00.521 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:00.522 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:17:00.523 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:00.525 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:17:00.526 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:17:00.527 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:17:00.529 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:17:00.530 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:17:00.531 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:17:00.531 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:17:00.532 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:17:00.533 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 68.5854ms
2024-12-23 00:17:00.534 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:17:00.535 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:17:00.536 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:17:00.536 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:00.537 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 00:17:00.539 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 102.3291ms
2024-12-23 00:17:42.998 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/update - null null
2024-12-23 00:17:43.004 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/update'
2024-12-23 00:17:43.005 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:17:43.006 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:17:43.007 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:17:43.008 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:17:43.009 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:17:43.010 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:17:43.012 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/update - 204 null null 13.7526ms
2024-12-23 00:17:43.017 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/product/update - application/json 73
2024-12-23 00:17:43.020 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/update'
2024-12-23 00:17:43.021 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)' with route pattern 'api/v1/product/update' is valid for the request path '/api/v1/product/update'
2024-12-23 00:17:43.022 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:17:43.024 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:17:43.024 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:17:43.026 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:17:43.026 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:17:43.027 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:17:43.029 -06:00 [INF] Route matched with {action = "Update", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Backend.Application.Database.Product.Models.UpdateProductModel, Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:17:43.030 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:17:43.032 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:17:43.034 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:17:43.036 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:17:43.037 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:17:43.039 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:17:43.040 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:17:43.042 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' ...
2024-12-23 00:17:43.043 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' using the name '' in request data ...
2024-12-23 00:17:43.045 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:17:43.046 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000008": started reading request body.
2024-12-23 00:17:43.047 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000008": done reading request body.
2024-12-23 00:17:43.049 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Product.Models.UpdateProductModel'
2024-12-23 00:17:43.050 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:17:43.052 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:17:43.053 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' ...
2024-12-23 00:17:43.054 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:17:43.056 -06:00 [DBG] Attempting to bind parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand' ...
2024-12-23 00:17:43.057 -06:00 [DBG] Done attempting to bind parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand'.
2024-12-23 00:17:43.059 -06:00 [DBG] Attempting to validate the bound parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand' ...
2024-12-23 00:17:43.060 -06:00 [DBG] Done attempting to validate the bound parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand'.
2024-12-23 00:17:43.061 -06:00 [INF] Iniciando la actualización del producto con ID 2
2024-12-23 00:17:43.063 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:17:43.065 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:43.066 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:17:43.068 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:17:43.069 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:17:43.070 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:17:43.071 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:17:43.072 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.075 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.080 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:17:43.083 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:17:43.085 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:17:43.086 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:17:43.087 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:17:43.089 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:17:43.092 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:17:43.094 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.096 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:17:43.097 -06:00 [DBG] Committing transaction.
2024-12-23 00:17:43.100 -06:00 [DBG] Committed transaction.
2024-12-23 00:17:43.102 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.103 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:17:43.104 -06:00 [DBG] Disposing transaction.
2024-12-23 00:17:43.105 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:43.107 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:17:43.109 -06:00 [INF] Producto con ID 2 actualizado correctamente.
2024-12-23 00:17:43.110 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:17:43.112 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:17:43.113 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:17:43.114 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:17:43.115 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:17:43.116 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:17:43.118 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.Update (Backend.Api) in 78.8727ms
2024-12-23 00:17:43.119 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:17:43.121 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:17:43.122 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:17:43.123 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.125 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:17:43.126 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/product/update - 200 null application/json; charset=utf-8 109.1613ms
2024-12-23 00:17:43.130 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:17:43.137 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:17:43.138 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:17:43.139 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:17:43.140 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:17:43.141 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:17:43.142 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:17:43.143 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:17:43.144 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 13.9804ms
2024-12-23 00:17:43.148 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:17:43.150 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:17:43.152 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:17:43.153 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:17:43.154 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:17:43.155 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:17:43.156 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:17:43.157 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:17:43.159 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:17:43.160 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:17:43.162 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:17:43.163 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:17:43.165 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:17:43.167 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:17:43.169 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:17:43.170 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:17:43.172 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:17:43.173 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:17:43.175 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:17:43.177 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:17:43.178 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:17:43.179 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:17:43.180 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:17:43.183 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:17:43.184 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:17:43.185 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.187 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.190 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:17:43.191 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:17:43.193 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:17:43.194 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:17:43.197 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:17:43.199 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:43.201 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:43.202 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:17:43.204 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.205 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:17:43.207 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.208 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:17:43.210 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:17:43.211 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:17:43.213 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:17:43.214 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:17:43.215 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:17:43.216 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:17:43.218 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:17:43.219 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 48.6056ms
2024-12-23 00:17:43.220 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:17:43.222 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:17:43.223 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:17:43.224 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:17:43.226 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:17:43.227 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 79.851ms
2024-12-23 00:19:28.266 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:19:28.277 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:19:28.278 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:19:28.279 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:19:28.280 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:19:28.282 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:19:28.282 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:19:28.283 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:19:28.284 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 18.9994ms
2024-12-23 00:19:28.295 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:19:28.304 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:19:28.305 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:19:28.307 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:19:28.308 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:19:28.309 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:19:28.310 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:19:28.311 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:19:28.313 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:19:28.314 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:19:28.316 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:19:28.317 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:19:28.319 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:19:28.321 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:19:28.322 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:19:28.324 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:19:28.326 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:19:28.327 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:19:28.329 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:19:28.330 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:19:28.332 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:19:28.333 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:19:28.335 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:19:28.337 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:19:28.338 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:19:28.339 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:19:28.342 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:19:28.345 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:19:28.346 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:19:28.348 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:19:28.349 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:19:28.352 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:19:28.355 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:19:28.356 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:19:28.357 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:19:28.359 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:19:28.360 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:19:28.362 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:19:28.363 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:19:28.365 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:19:28.366 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:19:28.369 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:19:28.370 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:19:28.371 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:19:28.372 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:19:28.373 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:19:28.375 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 50.3202ms
2024-12-23 00:19:28.376 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:19:28.377 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:19:28.378 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:19:28.380 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:19:28.381 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:19:28.383 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 87.6276ms
2024-12-23 00:20:06.652 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:20:06.658 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:06.659 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:20:06.660 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:06.661 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:06.662 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:06.663 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:20:06.664 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:06.665 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 13.8452ms
2024-12-23 00:20:06.672 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:20:06.674 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:06.675 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:20:06.677 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:06.678 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:06.679 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:06.680 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:06.681 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:06.683 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:06.684 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:20:06.686 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:06.687 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:06.689 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:06.690 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:06.692 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:06.694 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:06.696 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:06.697 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:06.699 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:06.700 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:06.702 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:06.704 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:20:06.706 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:06.709 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:06.710 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:20:06.711 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:06.714 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:06.720 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:06.722 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:06.724 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:20:06.725 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:06.728 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:06.731 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:06.732 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:06.734 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:06.735 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:06.737 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:20:06.738 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:06.739 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:06.741 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:20:06.742 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:06.744 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:06.745 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:06.746 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:06.747 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:06.748 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:06.749 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 55.1953ms
2024-12-23 00:20:06.751 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:06.752 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:06.753 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:06.754 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:06.755 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:06.757 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 85.1559ms
2024-12-23 00:20:10.684 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:20:10.687 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:10.688 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:20:10.689 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:10.691 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:10.692 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:10.693 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:10.694 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:10.695 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:10.696 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:20:10.698 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:10.700 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:10.703 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:10.705 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:10.707 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:10.709 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:10.711 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:10.712 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:10.714 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:10.715 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:10.717 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:10.718 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:20:10.720 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:10.722 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:10.723 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:20:10.724 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:10.727 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:10.730 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:10.732 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:10.733 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:10.735 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:10.738 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:10.740 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:10.742 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:10.743 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:10.744 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:10.746 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:20:10.747 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:10.748 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:10.749 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:20:10.751 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:10.753 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:10.754 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:10.754 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:10.755 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:10.756 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:10.757 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 48.0035ms
2024-12-23 00:20:10.759 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:10.760 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:10.761 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:10.762 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:10.764 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:10.765 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 81.5094ms
2024-12-23 00:20:18.151 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:20:18.154 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:20:18.155 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:20:18.157 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:18.158 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:18.159 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:18.160 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:20:18.161 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:18.162 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 11.2924ms
2024-12-23 00:20:18.166 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 47
2024-12-23 00:20:18.169 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:20:18.170 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:20:18.172 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:20:18.174 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:18.175 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:18.176 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:18.177 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:18.178 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:20:18.179 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:20:18.181 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:18.183 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:18.185 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:18.187 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:18.188 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:18.191 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:20:18.192 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:20:18.193 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:20:18.195 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:20:18.197 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:20:18.198 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000011": started reading request body.
2024-12-23 00:20:18.200 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000011": done reading request body.
2024-12-23 00:20:18.201 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:20:18.202 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:20:18.204 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:20:18.206 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:20:18.207 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:20:18.209 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:20:18.210 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:20:18.212 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:20:18.213 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:20:18.215 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:20:18.220 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:18.222 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:18.223 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:20:18.224 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.227 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.229 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:20:18.233 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:20:18.234 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:20:18.235 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 1
2024-12-23 00:20:18.236 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:18.238 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:18.239 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:18.241 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:20:18.244 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:20:18.247 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.249 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.250 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:20:18.252 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.254 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:20:18.256 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:20:18.257 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:20:18.259 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:20:18.261 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:20:18.262 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:18.263 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:18.265 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:20:18.267 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:20:18.270 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:20:18.273 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.275 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:20:18.277 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:20:18.279 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:20:18.280 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.282 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:20:18.284 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 19
2024-12-23 00:20:18.285 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:18.286 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:18.288 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:18.290 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:20:18.292 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:20:18.295 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.296 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:20:18.298 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.300 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.302 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:20:18.303 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:20:18.304 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:20:18.306 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:20:18.307 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:20:18.309 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:18.310 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:18.312 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:18.313 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:20:18.316 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:20:18.319 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:20:18.321 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.322 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:20:18.324 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:20:18.326 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:20:18.327 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.329 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:20:18.330 -06:00 [INF] Orden creada exitosamente. Total: 1222.00, Fecha: "2024-12-23T06:20:18.2986169Z"
2024-12-23 00:20:18.332 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.333 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.335 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.336 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.338 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:20:18.339 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:20:18.340 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:20:18.341 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:20:18.343 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:20:18.345 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:18.350 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-12-23 00:20:18.351 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-12-23 00:20:18.353 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:20:18.356 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:20:18.358 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:20:18.359 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.361 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:20:18.363 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:20:18.365 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:20:18.366 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.368 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:20:18.369 -06:00 [DBG] Committing transaction.
2024-12-23 00:20:18.371 -06:00 [DBG] Committed transaction.
2024-12-23 00:20:18.372 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.374 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:18.375 -06:00 [INF] Transacción completada exitosamente para la orden ID: 9
2024-12-23 00:20:18.376 -06:00 [DBG] Disposing transaction.
2024-12-23 00:20:18.377 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:18.380 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:18.380 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:18.381 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:18.382 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:18.383 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:18.385 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 194.3535ms
2024-12-23 00:20:18.386 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:20:18.387 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:18.389 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:18.390 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.391 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:18.393 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 227.1035ms
2024-12-23 00:20:18.400 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:20:18.403 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:18.404 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:20:18.405 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:18.406 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:18.407 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:18.408 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:20:18.409 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:18.411 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.072ms
2024-12-23 00:20:18.414 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:20:18.417 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:18.418 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:20:18.420 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:18.421 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:18.422 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:18.423 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:18.424 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:18.425 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:18.426 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:20:18.428 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:18.430 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:18.431 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:18.433 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:18.435 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:18.437 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:18.438 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:18.440 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:18.441 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:18.443 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:18.444 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:18.445 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:20:18.448 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:18.451 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:18.452 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:20:18.453 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.456 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.459 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:18.460 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:18.462 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:20:18.463 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:18.467 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:18.470 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.471 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.473 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:18.475 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.476 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 6ms reading results.
2024-12-23 00:20:18.478 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.479 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:18.481 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:20:18.483 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:18.485 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:18.486 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:18.487 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:18.487 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:18.489 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:18.491 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 54.0778ms
2024-12-23 00:20:18.492 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:18.494 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:18.495 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:18.496 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:18.498 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:18.500 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 85.6896ms
2024-12-23 00:20:37.529 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/update - null null
2024-12-23 00:20:37.532 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/update'
2024-12-23 00:20:37.533 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:20:37.535 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:37.536 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:37.537 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:37.537 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:20:37.538 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:37.540 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/update - 204 null null 10.5935ms
2024-12-23 00:20:37.543 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/product/update - application/json 69
2024-12-23 00:20:37.546 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/update'
2024-12-23 00:20:37.547 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)' with route pattern 'api/v1/product/update' is valid for the request path '/api/v1/product/update'
2024-12-23 00:20:37.549 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:20:37.550 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:37.551 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:37.553 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:37.553 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:37.555 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:20:37.556 -06:00 [INF] Route matched with {action = "Update", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Backend.Application.Database.Product.Models.UpdateProductModel, Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:20:37.558 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:37.559 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:37.561 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:37.563 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:37.564 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:37.566 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:37.568 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:37.569 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' ...
2024-12-23 00:20:37.571 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' using the name '' in request data ...
2024-12-23 00:20:37.572 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:20:37.574 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000015": started reading request body.
2024-12-23 00:20:37.575 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000015": done reading request body.
2024-12-23 00:20:37.577 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Product.Models.UpdateProductModel'
2024-12-23 00:20:37.578 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:20:37.579 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:20:37.581 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' ...
2024-12-23 00:20:37.583 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:20:37.584 -06:00 [DBG] Attempting to bind parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand' ...
2024-12-23 00:20:37.586 -06:00 [DBG] Done attempting to bind parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand'.
2024-12-23 00:20:37.587 -06:00 [DBG] Attempting to validate the bound parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand' ...
2024-12-23 00:20:37.589 -06:00 [DBG] Done attempting to validate the bound parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand'.
2024-12-23 00:20:37.590 -06:00 [INF] Iniciando la actualización del producto con ID 3
2024-12-23 00:20:37.591 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:37.593 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:37.595 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:20:37.596 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:20:37.597 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:20:37.598 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:37.599 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:20:37.600 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.603 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.605 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:20:37.608 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:20:37.609 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:37.610 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:37.612 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:37.613 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:20:37.616 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:20:37.618 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.620 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:20:37.621 -06:00 [DBG] Committing transaction.
2024-12-23 00:20:37.623 -06:00 [DBG] Committed transaction.
2024-12-23 00:20:37.624 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.625 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:37.627 -06:00 [DBG] Disposing transaction.
2024-12-23 00:20:37.628 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:37.630 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:20:37.631 -06:00 [INF] Producto con ID 3 actualizado correctamente.
2024-12-23 00:20:37.632 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:37.634 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:37.635 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:37.636 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:37.637 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:37.638 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:37.639 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.Update (Backend.Api) in 73.4416ms
2024-12-23 00:20:37.641 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:20:37.642 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:37.644 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:37.645 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.647 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:37.649 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/product/update - 200 null application/json; charset=utf-8 105.4283ms
2024-12-23 00:20:37.653 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:20:37.656 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:37.657 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:20:37.658 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:37.659 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:37.660 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:37.661 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:20:37.662 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:37.664 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.195ms
2024-12-23 00:20:37.667 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:20:37.670 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:37.671 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:20:37.673 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:37.674 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:37.675 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:37.676 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:37.677 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:37.678 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:37.680 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:20:37.682 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:37.683 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:37.685 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:37.687 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:37.689 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:37.691 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:37.692 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:37.694 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:37.695 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:37.697 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:37.698 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:37.699 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:20:37.701 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:37.703 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:37.704 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:20:37.705 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.707 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.710 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:37.711 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:37.713 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:37.714 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:37.717 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:37.720 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:37.721 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:37.723 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:37.724 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.726 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 6ms reading results.
2024-12-23 00:20:37.728 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.729 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:37.731 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:20:37.732 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:37.734 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:37.735 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:37.737 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:37.738 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:37.739 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:37.740 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 49.8232ms
2024-12-23 00:20:37.742 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:37.743 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:37.744 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:37.746 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:37.747 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:37.749 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 81.5803ms
2024-12-23 00:20:47.799 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:20:47.801 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:20:47.803 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:20:47.804 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:47.805 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:47.806 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:47.807 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:20:47.808 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:47.809 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 10.598ms
2024-12-23 00:20:47.813 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 50
2024-12-23 00:20:47.816 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:20:47.818 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:20:47.819 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:20:47.821 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:47.821 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:47.823 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:47.824 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:47.825 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:20:47.826 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:20:47.828 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:47.829 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:47.831 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:47.833 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:47.834 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:47.836 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:20:47.837 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:20:47.839 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:20:47.840 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:20:47.842 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:20:47.843 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000019": started reading request body.
2024-12-23 00:20:47.844 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000019": done reading request body.
2024-12-23 00:20:47.846 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:20:47.847 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:20:47.848 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:20:47.849 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:20:47.851 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:20:47.852 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:20:47.854 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:20:47.855 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:20:47.856 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:20:47.858 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":1122,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:20:47.862 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:47.864 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:47.865 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:20:47.866 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:47.868 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:47.871 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:20:47.873 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:20:47.875 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:20:47.875 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 1122
2024-12-23 00:20:47.877 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:47.878 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:47.879 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:47.881 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:20:47.884 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:20:47.886 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:47.888 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:47.889 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:20:47.891 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 19, cantidad solicitada: 1122
2024-12-23 00:20:48.032 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 19, cantidad solicitada: 1122.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:20:48.068 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:20:48.073 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:20:48.074 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:48.076 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:48.077 -06:00 [DBG] Disposing transaction.
2024-12-23 00:20:48.078 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:48.081 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:48.081 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:48.082 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:48.083 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:48.084 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:48.086 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 249.725ms
2024-12-23 00:20:48.087 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:20:48.089 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:48.090 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:48.091 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:48.093 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:48.095 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 281.5927ms
2024-12-23 00:20:48.098 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:20:48.101 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:48.102 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:20:48.103 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:48.105 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:48.106 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:48.107 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:20:48.108 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:48.109 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 10.4833ms
2024-12-23 00:20:48.112 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:20:48.115 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:20:48.116 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:20:48.118 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:48.119 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:20:48.120 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:20:48.121 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:20:48.122 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:20:48.123 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:48.125 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:20:48.126 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:20:48.128 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:20:48.130 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:20:48.132 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:20:48.134 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:20:48.136 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:48.137 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:20:48.139 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:48.141 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:48.142 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:20:48.143 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:20:48.145 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:20:48.146 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:20:48.148 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:20:48.149 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:20:48.150 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:48.153 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:48.155 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:20:48.156 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:20:48.158 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:20:48.159 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:48.162 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:20:48.164 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:48.165 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:48.167 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:20:48.169 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:48.170 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 6ms reading results.
2024-12-23 00:20:48.172 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:48.173 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:48.175 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:20:48.176 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:20:48.178 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:20:48.179 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:20:48.180 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:20:48.181 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:20:48.183 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:20:48.184 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 48.3046ms
2024-12-23 00:20:48.185 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:20:48.186 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:20:48.188 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:20:48.189 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:20:48.190 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:20:48.192 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 79.5015ms
2024-12-23 00:21:16.607 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:21:16.618 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:21:16.619 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:21:16.621 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:21:16.622 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:21:16.623 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:21:16.623 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:21:16.624 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:21:16.626 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 18.5631ms
2024-12-23 00:21:16.634 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:21:16.637 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:21:16.638 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:21:16.639 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:21:16.641 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:21:16.642 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:21:16.643 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:21:16.644 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:21:16.645 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:21:16.646 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:21:16.648 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:21:16.649 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:21:16.650 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:21:16.652 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:21:16.653 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:21:16.655 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:21:16.656 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:21:16.658 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:21:16.659 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:21:16.661 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:21:16.662 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:21:16.663 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:21:16.664 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:21:16.666 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:21:16.666 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:21:16.667 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:21:16.669 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:21:16.671 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:21:16.673 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:21:16.674 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:21:16.675 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:21:16.678 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:21:16.680 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:21:16.681 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:21:16.682 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:21:16.683 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:21:16.684 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:21:16.686 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:21:16.687 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:21:16.688 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:21:16.689 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:21:16.691 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:21:16.692 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:21:16.693 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:21:16.694 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:21:16.695 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:21:16.696 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 41.3406ms
2024-12-23 00:21:16.698 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:21:16.699 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:21:16.700 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:21:16.701 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:21:16.703 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:21:16.704 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 70.0967ms
2024-12-23 00:22:10.638 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:22:10.648 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:22:10.655 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:22:10.656 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:10.657 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:10.659 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:10.659 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:22:10.660 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:10.661 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 23.0348ms
2024-12-23 00:22:10.672 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:22:10.681 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:22:10.682 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:22:10.684 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:10.685 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:10.686 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:10.687 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:10.688 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:22:10.689 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:10.693 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:22:10.695 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:22:10.696 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:22:10.697 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:22:10.698 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:22:10.700 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:22:10.701 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:22:10.702 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:22:10.703 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:22:10.705 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:22:10.706 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:22:10.707 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:22:10.708 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:22:10.709 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:22:10.711 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:22:10.712 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:22:10.713 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:10.716 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:10.721 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:10.723 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:22:10.724 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:22:10.725 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:22:10.728 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:22:10.734 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:10.735 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:10.737 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:10.738 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:10.739 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 00:22:10.740 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:10.742 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:10.743 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:22:10.744 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:22:10.746 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:22:10.747 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:22:10.748 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:22:10.748 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:22:10.749 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:22:10.751 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 49.6781ms
2024-12-23 00:22:10.752 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:10.753 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:10.754 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:22:10.755 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:10.756 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:10.757 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 85.7674ms
2024-12-23 00:22:21.990 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:22:21.992 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:22:21.993 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:22:21.995 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:21.995 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:21.997 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:21.997 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:22:21.998 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:21.999 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 9.909ms
2024-12-23 00:22:22.003 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 47
2024-12-23 00:22:22.005 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:22:22.007 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:22:22.008 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:22:22.009 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:22.010 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:22.011 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:22.012 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:22:22.014 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:22:22.015 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:22:22.017 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:22:22.018 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:22:22.020 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:22:22.022 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:22:22.024 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:22:22.025 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:22:22.027 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:22:22.028 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:22:22.030 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:22:22.032 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:22:22.033 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000021": started reading request body.
2024-12-23 00:22:22.034 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000021": done reading request body.
2024-12-23 00:22:22.036 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:22:22.037 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:22:22.038 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:22:22.039 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:22:22.041 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:22:22.042 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:22:22.044 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:22:22.045 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:22:22.046 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:22:22.048 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:22:22.052 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:22:22.054 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:22:22.055 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:22:22.056 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.059 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.061 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:22:22.064 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:22:22.065 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:22:22.066 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 1
2024-12-23 00:22:22.067 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:22.068 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:22:22.070 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:22:22.071 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:22:22.074 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:22:22.077 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.078 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.079 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:22:22.081 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.083 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:22:22.084 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:22:22.085 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:22:22.086 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:22:22.088 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:22:22.089 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:22.090 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:22:22.091 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:22:22.093 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:22:22.096 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:22:22.098 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.100 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:22:22.101 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:22:22.103 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:22:22.104 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.106 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:22:22.108 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 18
2024-12-23 00:22:22.109 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:22.111 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:22:22.112 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:22:22.113 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:22:22.115 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:22:22.118 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.119 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:22:22.121 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.123 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.125 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:22:22.126 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:22:22.127 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:22:22.128 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:22:22.130 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:22:22.131 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:22.132 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:22:22.133 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:22:22.134 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:22:22.137 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:22:22.140 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:22:22.141 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.143 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:22:22.144 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:22:22.146 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:22:22.147 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.149 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:22:22.150 -06:00 [INF] Orden creada exitosamente. Total: 1222.00, Fecha: "2024-12-23T06:22:22.1217180Z"
2024-12-23 00:22:22.151 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.153 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.154 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.156 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.157 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:22:22.158 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:22:22.159 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:22:22.160 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:22:22.162 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:22:22.163 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:22.164 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:22:22.165 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:22:22.167 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:22:22.170 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:22:22.172 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:22:22.173 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.174 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:22:22.176 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:22:22.177 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:22:22.178 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.180 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:22:22.181 -06:00 [DBG] Committing transaction.
2024-12-23 00:22:22.184 -06:00 [DBG] Committed transaction.
2024-12-23 00:22:22.185 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.186 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:22.188 -06:00 [INF] Transacción completada exitosamente para la orden ID: 10
2024-12-23 00:22:22.189 -06:00 [DBG] Disposing transaction.
2024-12-23 00:22:22.189 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:22:22.192 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:22:22.192 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:22:22.193 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:22:22.194 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:22:22.195 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:22:22.197 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 171.3605ms
2024-12-23 00:22:22.198 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:22:22.200 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:22.201 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:22:22.202 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.204 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:22.205 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 202.5949ms
2024-12-23 00:22:22.213 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:22:22.216 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:22:22.217 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:22:22.218 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:22.219 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:22.220 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:22.221 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:22:22.222 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:22.223 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 10.2836ms
2024-12-23 00:22:22.226 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:22:22.229 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:22:22.231 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:22:22.232 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:22.234 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:22.235 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:22.236 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:22.237 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:22:22.238 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:22.239 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:22:22.241 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:22:22.243 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:22:22.244 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:22:22.247 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:22:22.248 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:22:22.250 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:22:22.252 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:22:22.253 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:22:22.255 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:22:22.256 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:22:22.258 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:22:22.259 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:22:22.260 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:22:22.262 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:22:22.263 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:22:22.265 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.267 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.270 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:22.271 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:22:22.272 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:22:22.274 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:22:22.277 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:22:22.279 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.281 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.282 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:22.283 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.285 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:22:22.287 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.288 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:22.290 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:22:22.291 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:22:22.293 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:22:22.294 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:22:22.295 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:22:22.296 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:22:22.298 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:22:22.299 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 48.8003ms
2024-12-23 00:22:22.300 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:22.302 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:22.303 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:22:22.304 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:22.306 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:22.308 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 81.1762ms
2024-12-23 00:22:59.604 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:22:59.610 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:22:59.611 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:22:59.613 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:59.614 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:59.615 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:59.616 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:22:59.617 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:59.620 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 15.6519ms
2024-12-23 00:22:59.631 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:22:59.634 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:22:59.635 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:22:59.636 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:59.637 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:22:59.638 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:22:59.639 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:22:59.641 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:22:59.642 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:59.643 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:22:59.645 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:22:59.647 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:22:59.649 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:22:59.651 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:22:59.652 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:22:59.654 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:22:59.656 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:22:59.657 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:22:59.659 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:22:59.660 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:22:59.661 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:22:59.662 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:22:59.664 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:22:59.665 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:22:59.666 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:22:59.667 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:59.669 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:59.674 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:22:59.677 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:22:59.678 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:22:59.679 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:22:59.682 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:22:59.684 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:59.685 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:59.686 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:22:59.689 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:59.694 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 10ms reading results.
2024-12-23 00:22:59.696 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:59.697 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:59.699 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:22:59.700 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:22:59.702 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:22:59.702 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:22:59.704 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:22:59.705 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:22:59.706 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:22:59.707 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 52.9135ms
2024-12-23 00:22:59.709 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:22:59.710 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:22:59.711 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:22:59.712 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:22:59.713 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:22:59.715 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 83.8417ms
2024-12-23 00:23:10.227 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:23:10.230 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:23:10.232 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:23:10.233 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:23:10.234 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:23:10.235 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:23:10.236 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:23:10.237 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:23:10.239 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.5617ms
2024-12-23 00:23:10.243 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:23:10.246 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:23:10.247 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:23:10.249 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:10.250 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:23:10.251 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:23:10.252 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:23:10.253 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:23:10.254 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:10.255 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:23:10.258 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:23:10.259 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:23:10.261 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:23:10.263 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:23:10.264 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:23:10.267 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:10.268 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:10.269 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:23:10.270 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:23:10.271 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:23:10.273 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:23:10.274 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:23:10.276 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:23:10.278 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:23:10.279 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:23:10.280 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:10.282 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:10.284 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:23:10.285 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 00:23:10.286 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:23:10.288 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:23:10.291 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:23:10.293 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:10.295 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:10.296 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:10.297 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:10.299 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:23:10.300 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:10.301 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:10.302 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:23:10.304 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:23:10.306 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:23:10.308 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:23:10.308 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:23:10.309 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:23:10.311 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:23:10.312 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 45.2837ms
2024-12-23 00:23:10.313 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:10.314 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:23:10.315 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:23:10.317 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:10.318 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:10.320 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 76.3881ms
2024-12-23 00:23:20.647 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:23:20.650 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:23:20.652 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:23:20.654 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:23:20.654 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:23:20.656 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:23:20.657 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:23:20.658 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:23:20.660 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 13.6296ms
2024-12-23 00:23:20.665 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:23:20.668 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:23:20.670 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:23:20.672 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:20.673 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:23:20.674 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:23:20.676 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:23:20.677 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:23:20.678 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:20.679 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:23:20.681 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:23:20.683 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:23:20.685 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:23:20.687 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:23:20.689 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:23:20.691 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:20.692 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:20.694 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:23:20.695 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:23:20.697 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:23:20.699 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:23:20.700 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:23:20.701 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:23:20.704 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:23:20.705 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:23:20.706 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:20.709 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:20.712 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:23:20.713 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:23:20.715 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:23:20.717 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:23:20.720 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:23:20.722 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:20.724 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:20.726 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:20.728 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:20.729 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 7ms reading results.
2024-12-23 00:23:20.731 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:20.733 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:20.735 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:23:20.736 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:23:20.739 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:23:20.740 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:23:20.741 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:23:20.742 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:23:20.743 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:23:20.744 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 53.6693ms
2024-12-23 00:23:20.746 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:20.747 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:23:20.748 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:23:20.749 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:20.751 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:20.752 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 87.2771ms
2024-12-23 00:23:25.389 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/update - null null
2024-12-23 00:23:25.391 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/update'
2024-12-23 00:23:25.392 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:23:25.394 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:23:25.394 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:23:25.396 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:23:25.396 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:23:25.397 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:23:25.398 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/update - 204 null null 9.7696ms
2024-12-23 00:23:25.402 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/product/update - application/json 71
2024-12-23 00:23:25.404 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/update'
2024-12-23 00:23:25.406 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)' with route pattern 'api/v1/product/update' is valid for the request path '/api/v1/product/update'
2024-12-23 00:23:25.407 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:23:25.408 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:23:25.409 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:23:25.410 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:23:25.411 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:23:25.412 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:23:25.413 -06:00 [INF] Route matched with {action = "Update", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Backend.Application.Database.Product.Models.UpdateProductModel, Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:23:25.415 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:23:25.417 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:23:25.418 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:23:25.421 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:23:25.422 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:23:25.424 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:25.425 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:25.427 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' ...
2024-12-23 00:23:25.428 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' using the name '' in request data ...
2024-12-23 00:23:25.430 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:23:25.431 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000002B": started reading request body.
2024-12-23 00:23:25.432 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000002B": done reading request body.
2024-12-23 00:23:25.434 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Product.Models.UpdateProductModel'
2024-12-23 00:23:25.435 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:23:25.437 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:23:25.438 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel' ...
2024-12-23 00:23:25.440 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.UpdateProductModel'.
2024-12-23 00:23:25.441 -06:00 [DBG] Attempting to bind parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand' ...
2024-12-23 00:23:25.442 -06:00 [DBG] Done attempting to bind parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand'.
2024-12-23 00:23:25.444 -06:00 [DBG] Attempting to validate the bound parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand' ...
2024-12-23 00:23:25.445 -06:00 [DBG] Done attempting to validate the bound parameter 'updateCommand' of type 'Backend.Application.Database.Product.Commands.UpdateProduct.IUpdateProductCommand'.
2024-12-23 00:23:25.446 -06:00 [INF] Iniciando la actualización del producto con ID 2
2024-12-23 00:23:25.448 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:23:25.450 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:25.452 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:23:25.453 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:23:25.454 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:23:25.455 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:23:25.456 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:23:25.457 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.460 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.462 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:23:25.465 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:23:25.466 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:23:25.467 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:23:25.468 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:23:25.470 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:23:25.473 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:23:25.475 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.476 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:23:25.478 -06:00 [DBG] Committing transaction.
2024-12-23 00:23:25.480 -06:00 [DBG] Committed transaction.
2024-12-23 00:23:25.481 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.482 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:25.484 -06:00 [DBG] Disposing transaction.
2024-12-23 00:23:25.485 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:25.487 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:23:25.488 -06:00 [INF] Producto con ID 2 actualizado correctamente.
2024-12-23 00:23:25.489 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:23:25.491 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:23:25.492 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:23:25.493 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:23:25.494 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:23:25.495 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:23:25.496 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.Update (Backend.Api) in 72.3896ms
2024-12-23 00:23:25.498 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.Update (Backend.Api)'
2024-12-23 00:23:25.499 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:23:25.500 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:23:25.502 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.503 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:25.505 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/product/update - 200 null application/json; charset=utf-8 103.011ms
2024-12-23 00:23:25.509 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:23:25.512 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:23:25.513 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:23:25.515 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:25.516 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:23:25.516 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:23:25.517 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:23:25.518 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:23:25.519 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:25.521 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:23:25.522 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:23:25.524 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:23:25.525 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:23:25.528 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:23:25.530 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:23:25.532 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:25.534 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:23:25.535 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:23:25.537 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:23:25.539 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:23:25.541 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:23:25.542 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:23:25.544 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:23:25.547 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:23:25.548 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:23:25.549 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.552 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.554 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:23:25.555 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:23:25.557 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:23:25.558 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:23:25.562 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:23:25.564 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:25.565 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:25.567 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:23:25.568 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.570 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:23:25.572 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.573 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:25.575 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:23:25.576 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:23:25.578 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:23:25.579 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:23:25.580 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:23:25.581 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:23:25.582 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:23:25.584 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 51.797ms
2024-12-23 00:23:25.585 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:23:25.587 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:23:25.588 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:23:25.589 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:23:25.590 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:23:25.592 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 83.3012ms
2024-12-23 00:24:18.924 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:24:18.934 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:24:18.935 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:24:18.937 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:24:18.939 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:24:18.940 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:24:18.941 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:24:18.943 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:24:18.944 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 20.0741ms
2024-12-23 00:24:18.949 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:24:18.961 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:24:18.963 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:24:18.965 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:24:18.966 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:24:18.968 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:24:18.969 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:24:18.970 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:24:18.971 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:24:18.973 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:24:18.975 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:24:18.977 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:24:18.978 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:24:18.981 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:24:18.982 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:24:18.984 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:24:18.986 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:24:18.988 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:24:18.989 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:24:18.991 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:24:18.992 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:24:18.994 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:24:18.995 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:24:18.997 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:24:18.998 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:24:18.999 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:19.006 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:19.013 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:24:19.014 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:24:19.017 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-23 00:24:19.018 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:24:19.022 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:24:19.025 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:19.026 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:19.027 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:19.029 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:19.030 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:24:19.032 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:19.033 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:24:19.035 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:24:19.036 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:24:19.038 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:24:19.039 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:24:19.039 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:24:19.040 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:24:19.042 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:24:19.043 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 58.3581ms
2024-12-23 00:24:19.044 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:24:19.045 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:24:19.045 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:24:19.046 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:19.047 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 00:24:19.048 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 99.6234ms
2024-12-23 00:24:27.640 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:24:27.643 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:24:27.644 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:24:27.645 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:24:27.646 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:24:27.647 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:24:27.648 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:24:27.649 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:24:27.651 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 10.2211ms
2024-12-23 00:24:27.654 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 47
2024-12-23 00:24:27.657 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:24:27.658 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:24:27.660 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:24:27.661 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:24:27.662 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:24:27.663 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:24:27.663 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:24:27.665 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:24:27.666 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:24:27.668 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:24:27.669 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:24:27.671 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:24:27.673 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:24:27.674 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:24:27.676 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:24:27.678 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:24:27.679 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:24:27.681 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:24:27.682 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:24:27.683 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000030": started reading request body.
2024-12-23 00:24:27.685 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000030": done reading request body.
2024-12-23 00:24:27.686 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:24:27.687 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:24:27.689 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:24:27.690 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:24:27.692 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:24:27.693 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:24:27.695 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:24:27.696 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:24:27.697 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:24:27.699 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":1,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:24:27.704 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:24:27.706 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:24:27.707 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:24:27.708 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.712 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.714 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:24:27.717 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:24:27.718 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:24:27.719 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 1
2024-12-23 00:24:27.721 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:24:27.722 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:24:27.723 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:24:27.724 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:24:27.728 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:24:27.730 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.732 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.733 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:24:27.735 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.737 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:24:27.738 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:24:27.739 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:24:27.741 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:24:27.743 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:24:27.744 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:24:27.745 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:24:27.746 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:24:27.748 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:24:27.751 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:24:27.754 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.755 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:24:27.757 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:24:27.759 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:24:27.760 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.762 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:24:27.764 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 17
2024-12-23 00:24:27.765 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:24:27.767 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:24:27.768 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:24:27.770 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:24:27.772 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:24:27.775 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.776 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:24:27.778 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.780 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.781 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:24:27.782 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:24:27.784 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:24:27.785 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:24:27.787 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:24:27.788 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:24:27.790 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:24:27.791 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:24:27.793 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:24:27.796 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:24:27.798 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:24:27.800 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.801 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:24:27.803 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:24:27.805 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:24:27.810 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.813 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:24:27.815 -06:00 [INF] Orden creada exitosamente. Total: 21.00, Fecha: "2024-12-23T06:24:27.7782906Z"
2024-12-23 00:24:27.816 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.818 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.819 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.821 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.822 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:24:27.823 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:24:27.824 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:24:27.825 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:24:27.828 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:24:27.829 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:24:27.830 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:24:27.831 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:24:27.832 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:24:27.835 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:24:27.838 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:24:27.839 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.841 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:24:27.843 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:24:27.844 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:24:27.845 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.847 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:24:27.849 -06:00 [DBG] Committing transaction.
2024-12-23 00:24:27.851 -06:00 [DBG] Committed transaction.
2024-12-23 00:24:27.852 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.853 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:24:27.855 -06:00 [INF] Transacción completada exitosamente para la orden ID: 11
2024-12-23 00:24:27.856 -06:00 [DBG] Disposing transaction.
2024-12-23 00:24:27.857 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:24:27.859 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:24:27.860 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:24:27.861 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:24:27.862 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:24:27.863 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:24:27.864 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 187.9852ms
2024-12-23 00:24:27.866 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:24:27.867 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:24:27.868 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:24:27.869 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.871 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:24:27.872 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 218.7185ms
2024-12-23 00:24:27.880 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:24:27.883 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:24:27.884 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:24:27.885 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:24:27.886 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:24:27.888 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:24:27.888 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:24:27.889 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:24:27.891 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 10.4784ms
2024-12-23 00:24:27.894 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:24:27.897 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:24:27.898 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:24:27.900 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:24:27.901 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:24:27.902 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:24:27.903 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:24:27.904 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:24:27.905 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:24:27.906 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:24:27.908 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:24:27.910 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:24:27.912 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:24:27.914 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:24:27.915 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:24:27.917 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:24:27.918 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:24:27.920 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:24:27.921 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:24:27.923 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:24:27.924 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:24:27.925 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:24:27.927 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:24:27.929 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:24:27.930 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:24:27.931 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.934 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.936 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:24:27.937 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:24:27.939 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:24:27.940 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:24:27.943 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:24:27.945 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.947 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.948 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:24:27.949 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.951 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:24:27.953 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.954 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:24:27.956 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:24:27.957 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:24:27.960 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:24:27.961 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:24:27.962 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:24:27.963 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:24:27.964 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:24:27.965 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 48.3947ms
2024-12-23 00:24:27.967 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:24:27.968 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:24:27.970 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:24:27.971 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:24:27.972 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:24:27.974 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 79.6028ms
2024-12-23 00:25:48.246 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:25:48.251 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:25:48.252 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:25:48.253 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:25:48.254 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:25:48.256 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:25:48.256 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:25:48.257 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:25:48.261 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 15.8825ms
2024-12-23 00:25:48.265 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 48
2024-12-23 00:25:48.268 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:25:48.269 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:25:48.271 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:25:48.272 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:25:48.273 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:25:48.274 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:25:48.275 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:25:48.276 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:25:48.277 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:25:48.279 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:25:48.281 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:25:48.282 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:25:48.284 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:25:48.285 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:25:48.287 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:25:48.289 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:25:48.290 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:25:48.291 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:25:48.293 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:25:48.294 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000034": started reading request body.
2024-12-23 00:25:48.295 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000034": done reading request body.
2024-12-23 00:25:48.297 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:25:48.298 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:25:48.299 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:25:48.301 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:25:48.302 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:25:48.303 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:25:48.305 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:25:48.306 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:25:48.308 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:25:48.309 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":18,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:25:48.313 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:25:48.315 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:25:48.316 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:25:48.317 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.320 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.326 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:25:48.329 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:25:48.330 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:25:48.331 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 18
2024-12-23 00:25:48.332 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:25:48.334 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:25:48.335 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:25:48.336 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:25:48.340 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:25:48.342 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:25:48.344 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.345 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:25:48.347 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 18
2024-12-23 00:25:48.403 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 18.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:25:48.405 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:25:48.407 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:25:48.408 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.410 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:25:48.411 -06:00 [DBG] Disposing transaction.
2024-12-23 00:25:48.412 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:25:48.415 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:25:48.415 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:25:48.416 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:25:48.417 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:25:48.419 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:25:48.420 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 132.8669ms
2024-12-23 00:25:48.422 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:25:48.423 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:25:48.424 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:25:48.425 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.427 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:25:48.429 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 163.3011ms
2024-12-23 00:25:48.436 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:25:48.439 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:25:48.440 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:25:48.441 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:25:48.442 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:25:48.444 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:25:48.445 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:25:48.445 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:25:48.447 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.0682ms
2024-12-23 00:25:48.451 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:25:48.453 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:25:48.455 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:25:48.457 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:25:48.458 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:25:48.459 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:25:48.460 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:25:48.461 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:25:48.462 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:25:48.464 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:25:48.466 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:25:48.467 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:25:48.469 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:25:48.471 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:25:48.473 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:25:48.475 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:25:48.476 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:25:48.478 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:25:48.479 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:25:48.481 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:25:48.482 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:25:48.484 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:25:48.485 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:25:48.487 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:25:48.487 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:25:48.489 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.491 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.494 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:25:48.495 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:25:48.497 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:25:48.498 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:25:48.501 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:25:48.503 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:25:48.505 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:25:48.506 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:25:48.508 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.509 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:25:48.511 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.513 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:25:48.514 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:25:48.516 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:25:48.518 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:25:48.519 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:25:48.520 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:25:48.520 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:25:48.522 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:25:48.524 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 48.7377ms
2024-12-23 00:25:48.525 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:25:48.526 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:25:48.528 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:25:48.529 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:25:48.530 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:25:48.532 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 81.5771ms
2024-12-23 00:25:51.629 -06:00 [DBG] Connection id "0HN931HM77OV3" accepted.
2024-12-23 00:25:51.631 -06:00 [DBG] Connection id "0HN931HM77OV3" started.
2024-12-23 00:25:51.631 -06:00 [DBG] Connection id "0HN931HM77OV4" accepted.
2024-12-23 00:25:51.636 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:25:51.638 -06:00 [DBG] Connection id "0HN931HM77OV4" started.
2024-12-23 00:25:51.661 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:25:51.662 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:25:51.663 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:25:51.664 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:25:51.665 -06:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-12-23 00:25:51.666 -06:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-12-23 00:25:51.668 -06:00 [DBG] Connection id "0HN931HM77OV3" completed keep alive response.
2024-12-23 00:25:51.669 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/create - 405 0 null 32.9263ms
2024-12-23 00:26:55.346 -06:00 [DBG] Connection id "0HN931HM77OV4" received FIN.
2024-12-23 00:26:55.347 -06:00 [DBG] Connection id "0HN931HM77OV4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 00:26:55.349 -06:00 [DBG] Connection id "0HN931HM77OV4" disconnecting.
2024-12-23 00:26:55.351 -06:00 [DBG] Connection id "0HN931HM77OV4" stopped.
2024-12-23 00:27:43.532 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:27:43.541 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:27:43.543 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:27:43.545 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:27:43.546 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:27:43.547 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:27:43.548 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:27:43.549 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:27:43.554 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 23.9656ms
2024-12-23 00:27:43.559 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:27:43.561 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:27:43.562 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:27:43.564 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:27:43.565 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:27:43.566 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:27:43.569 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:27:43.570 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:27:43.571 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:27:43.571 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:27:43.573 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:27:43.574 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:27:43.576 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:27:43.578 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:27:43.579 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:27:43.581 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:27:43.583 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:27:43.584 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:27:43.585 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:27:43.586 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:27:43.588 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:27:43.589 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:27:43.590 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:27:43.592 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:27:43.592 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:27:43.593 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:43.595 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:43.601 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:27:43.603 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:27:43.604 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 00:27:43.606 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:27:43.608 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:27:43.610 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:27:43.611 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:27:43.613 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:27:43.614 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:43.615 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:27:43.617 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:43.618 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:27:43.620 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:27:43.622 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:27:43.624 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:27:43.625 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:27:43.626 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:27:43.627 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:27:43.629 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:27:43.630 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 49.224ms
2024-12-23 00:27:43.632 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:27:43.633 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:27:43.633 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:27:43.634 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:43.635 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:27:43.637 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 78.099ms
2024-12-23 00:27:50.759 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:27:50.762 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:27:50.763 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:27:50.764 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:27:50.765 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:27:50.766 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:27:50.767 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:27:50.767 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:27:50.769 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 9.7678ms
2024-12-23 00:27:50.772 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 48
2024-12-23 00:27:50.774 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:27:50.776 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:27:50.777 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:27:50.778 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:27:50.779 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:27:50.780 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:27:50.781 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:27:50.782 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:27:50.783 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:27:50.785 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:27:50.787 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:27:50.788 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:27:50.790 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:27:50.791 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:27:50.793 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:27:50.795 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:27:50.796 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:27:50.797 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:27:50.799 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:27:50.800 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000003A": started reading request body.
2024-12-23 00:27:50.801 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000003A": done reading request body.
2024-12-23 00:27:50.803 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:27:50.804 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:27:50.806 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:27:50.807 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:27:50.808 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:27:50.810 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:27:50.812 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:27:50.813 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:27:50.814 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:27:50.815 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":19,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:27:50.820 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:27:50.822 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:27:50.823 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:27:50.824 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:50.826 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:50.829 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:27:50.832 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:27:50.833 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:27:50.834 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 19
2024-12-23 00:27:50.835 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:27:50.836 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:27:50.838 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:27:50.839 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:27:50.842 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:27:50.845 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:27:50.847 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:50.848 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:27:50.850 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19
2024-12-23 00:27:50.896 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:27:50.898 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:27:50.900 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:27:50.900 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:50.902 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:27:50.903 -06:00 [DBG] Disposing transaction.
2024-12-23 00:27:50.904 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:27:50.907 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:27:50.907 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:27:50.908 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:27:50.909 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:27:50.911 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:27:50.912 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 118.9169ms
2024-12-23 00:27:50.913 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:27:50.915 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:27:50.916 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:27:50.917 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:27:50.919 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:27:50.920 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 148.5036ms
2024-12-23 00:28:18.594 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:28:18.597 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:28:18.598 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:28:18.599 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:28:18.600 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:28:18.601 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:28:18.602 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:28:18.603 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:28:18.605 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 10.9612ms
2024-12-23 00:28:18.610 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 48
2024-12-23 00:28:18.613 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:28:18.614 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:28:18.616 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:28:18.617 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:28:18.618 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:28:18.619 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:28:18.620 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:28:18.621 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:28:18.622 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:28:18.624 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:28:18.625 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:28:18.627 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:28:18.629 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:28:18.631 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:28:18.633 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:28:18.634 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:28:18.635 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:28:18.637 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:28:18.638 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:28:18.640 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000003C": started reading request body.
2024-12-23 00:28:18.641 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000003C": done reading request body.
2024-12-23 00:28:18.642 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:28:18.644 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:28:18.645 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:28:18.646 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:28:18.648 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:28:18.649 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:28:18.650 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:28:18.652 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:28:18.653 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:28:18.654 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":19,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:28:18.659 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:28:18.661 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:28:18.662 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:28:18.663 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:28:18.666 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:28:18.668 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:28:18.671 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:28:18.672 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:28:18.673 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 19
2024-12-23 00:28:18.675 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:28:18.676 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:28:18.677 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:28:18.679 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:28:18.682 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:28:18.685 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:28:18.687 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:28:18.689 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:28:18.691 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19
2024-12-23 00:28:18.730 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:28:18.732 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:28:18.734 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:28:18.735 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:28:18.737 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:28:18.738 -06:00 [DBG] Disposing transaction.
2024-12-23 00:28:18.739 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:28:18.742 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:28:18.743 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:28:18.744 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:28:18.745 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:28:18.746 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:28:18.748 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 114.812ms
2024-12-23 00:28:18.749 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:28:18.750 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:28:18.752 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:28:18.753 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:28:18.755 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:28:18.756 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 145.9965ms
2024-12-23 00:29:00.804 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:29:00.809 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:29:00.811 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:29:00.812 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:29:00.813 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:29:00.814 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:29:00.815 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:29:00.816 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:29:00.818 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 14.4262ms
2024-12-23 00:29:00.824 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 48
2024-12-23 00:29:00.827 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:29:00.828 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:29:00.830 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:29:00.831 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:29:00.832 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:29:00.833 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:29:00.834 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:29:00.835 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:29:00.836 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:29:00.838 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:29:00.840 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:29:00.841 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:29:00.843 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:29:00.845 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:29:00.847 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:29:00.848 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:29:00.849 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:29:00.851 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:29:00.852 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:29:00.854 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000003E": started reading request body.
2024-12-23 00:29:00.855 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000003E": done reading request body.
2024-12-23 00:29:00.856 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:29:00.857 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:29:00.859 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:29:00.860 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:29:00.862 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:29:00.863 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:29:00.864 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:29:00.866 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:29:00.867 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:29:00.869 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":19,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:29:00.873 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:29:00.875 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:29:00.876 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:29:00.877 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:00.881 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:00.885 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:29:00.894 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:29:00.895 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:29:00.896 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 19
2024-12-23 00:29:00.897 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:29:00.898 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:29:00.900 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:29:00.901 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:29:00.904 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:29:00.907 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:29:00.908 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:00.909 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:29:00.911 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19
2024-12-23 00:29:00.969 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:29:00.972 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:29:00.975 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:29:00.976 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:00.977 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:29:00.979 -06:00 [DBG] Disposing transaction.
2024-12-23 00:29:00.980 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:29:00.982 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:29:00.983 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:29:00.984 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:29:00.984 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:29:00.986 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:29:00.987 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 140.6604ms
2024-12-23 00:29:00.989 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:29:00.990 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:29:00.992 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:29:00.993 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:00.994 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:29:00.996 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 172.7692ms
2024-12-23 00:29:18.122 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:29:18.125 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:29:18.126 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:29:18.127 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:29:18.128 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:29:18.129 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:29:18.130 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:29:18.131 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:29:18.132 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 9.5245ms
2024-12-23 00:29:18.135 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 79
2024-12-23 00:29:18.138 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:29:18.139 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:29:18.141 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:29:18.142 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:29:18.143 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:29:18.145 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:29:18.146 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:29:18.147 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:29:18.148 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:29:18.150 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:29:18.152 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:29:18.153 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:29:18.155 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:29:18.157 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:29:18.159 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:29:18.160 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:29:18.162 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:29:18.163 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:29:18.165 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:29:18.166 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000040": started reading request body.
2024-12-23 00:29:18.167 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000040": done reading request body.
2024-12-23 00:29:18.169 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:29:18.170 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:29:18.171 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:29:18.173 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:29:18.174 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:29:18.175 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:29:18.177 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:29:18.178 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:29:18.179 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:29:18.181 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":19,"$type":"CreateOrderDetailModel"},{"ProductId":4,"Quantity":122,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:29:18.188 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:29:18.190 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:29:18.191 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 00:29:18.192 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:18.194 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:18.197 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:29:18.200 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:29:18.201 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:29:18.202 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 19
2024-12-23 00:29:18.203 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:29:18.204 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:29:18.206 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:29:18.207 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:29:18.210 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:29:18.213 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:29:18.214 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:18.215 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:29:18.217 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19
2024-12-23 00:29:18.254 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 17, cantidad solicitada: 19.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:29:18.256 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:29:18.258 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:29:18.259 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:18.261 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:29:18.262 -06:00 [DBG] Disposing transaction.
2024-12-23 00:29:18.263 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:29:18.266 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:29:18.267 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:29:18.268 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:29:18.268 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:29:18.270 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:29:18.271 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 112.3788ms
2024-12-23 00:29:18.273 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:29:18.274 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:29:18.275 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:29:18.276 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:29:18.278 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:29:18.280 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 144.3938ms
2024-12-23 00:30:55.345 -06:00 [DBG] Connection id "0HN931HM77OV3" received FIN.
2024-12-23 00:30:55.349 -06:00 [DBG] Connection id "0HN931HM77OV3" disconnecting.
2024-12-23 00:30:55.352 -06:00 [DBG] Connection id "0HN931HM77OV3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 00:30:55.360 -06:00 [DBG] Connection id "0HN931HM77OV3" stopped.
2024-12-23 00:32:35.867 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:32:35.874 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:32:35.876 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:32:35.877 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:32:35.878 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:32:35.879 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:32:35.880 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:32:35.881 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:32:35.882 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 15.0822ms
2024-12-23 00:32:35.889 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:32:35.892 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:32:35.893 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:32:35.894 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:32:35.895 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:32:35.896 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:32:35.897 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:32:35.897 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:32:35.899 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:32:35.900 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:32:35.901 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:32:35.903 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:32:35.905 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:32:35.907 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:32:35.909 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:32:35.910 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:32:35.912 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:32:35.913 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:32:35.915 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:32:35.917 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:32:35.918 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:32:35.919 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:32:35.920 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:32:35.922 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:32:35.923 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:32:35.924 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:32:35.926 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:32:35.929 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:32:35.930 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:32:35.931 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:32:35.932 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:32:35.935 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:32:35.937 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:32:35.938 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:32:35.939 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:32:35.941 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:32:35.942 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:32:35.944 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:32:35.945 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:32:35.946 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:32:35.947 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:32:35.949 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:32:35.951 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:32:35.951 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:32:35.953 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:32:35.954 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:32:35.963 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 52.7453ms
2024-12-23 00:32:35.967 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:32:35.968 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:32:35.969 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:32:35.971 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:32:35.972 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:32:35.975 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 86.0091ms
2024-12-23 00:34:45.992 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:34:45.999 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:34:46.000 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:34:46.002 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:34:46.003 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:34:46.004 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:34:46.005 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:34:46.006 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:34:46.008 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 19.5211ms
2024-12-23 00:34:46.015 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:34:46.018 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:34:46.019 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:34:46.021 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:34:46.022 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:34:46.023 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:34:46.024 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:34:46.025 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:34:46.026 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:34:46.027 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:34:46.029 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:34:46.031 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:34:46.033 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:34:46.035 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:34:46.036 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:34:46.038 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:34:46.039 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:34:46.040 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:34:46.041 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:34:46.043 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:34:46.044 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:34:46.046 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:34:46.047 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:34:46.049 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:34:46.050 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:34:46.051 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:34:46.054 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:34:46.060 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:34:46.062 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:34:46.064 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-23 00:34:46.066 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:34:46.069 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:34:46.071 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:34:46.072 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:34:46.074 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:34:46.075 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:34:46.076 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:34:46.078 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:34:46.079 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:34:46.081 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:34:46.082 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:34:46.085 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:34:46.086 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:34:46.087 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:34:46.088 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:34:46.089 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:34:46.091 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 53.249ms
2024-12-23 00:34:46.092 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:34:46.093 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:34:46.094 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:34:46.095 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:34:46.096 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:34:46.098 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 82.3052ms
2024-12-23 00:35:12.858 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:35:12.864 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:35:12.865 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:35:12.866 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:12.867 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:12.868 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:12.869 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:35:12.870 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:12.871 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 13.4917ms
2024-12-23 00:35:12.877 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 50
2024-12-23 00:35:12.880 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:35:12.881 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:35:12.883 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:12.884 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:12.884 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:12.885 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:12.886 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:12.887 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:12.888 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:35:12.890 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:35:12.892 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:35:12.893 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:35:12.895 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:35:12.896 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:35:12.898 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:12.899 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:12.901 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:12.902 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:35:12.904 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:35:12.905 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000046": started reading request body.
2024-12-23 00:35:12.906 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:00000046": done reading request body.
2024-12-23 00:35:12.908 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:35:12.909 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:12.910 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:12.911 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:12.913 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:12.914 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:12.916 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:12.917 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:12.919 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:12.920 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":10,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:35:12.925 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:35:12.927 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:35:12.927 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:35:12.929 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:12.931 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:12.934 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:35:12.937 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:35:12.938 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:35:12.939 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 10
2024-12-23 00:35:12.940 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:12.942 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:12.943 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:12.944 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:12.948 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:12.950 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:12.951 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:12.953 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:35:12.954 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:12.956 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:35:12.957 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:35:12.958 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:35:12.960 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:35:12.961 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:35:12.963 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:12.964 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:12.965 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:12.966 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:35:12.970 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:35:12.972 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:12.973 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:35:12.975 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:35:12.977 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:35:12.978 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:12.980 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:35:12.981 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 7
2024-12-23 00:35:12.983 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:12.984 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:12.985 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:12.986 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:35:12.989 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:35:12.991 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:12.992 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:35:12.994 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:12.996 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:12.998 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:35:12.999 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:35:13.000 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:35:13.002 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:35:13.003 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:35:13.005 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:13.006 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:13.007 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:13.009 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:13.012 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:13.021 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:35:13.022 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.024 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:35:13.026 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:35:13.028 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:35:13.029 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.031 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:35:13.032 -06:00 [INF] Orden creada exitosamente. Total: 210.00, Fecha: "2024-12-23T06:35:12.9945900Z"
2024-12-23 00:35:13.034 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.035 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.037 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.038 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.040 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:35:13.041 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:35:13.042 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:35:13.044 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:35:13.045 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:35:13.047 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:13.048 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:13.049 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:13.051 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:13.054 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:13.056 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:35:13.058 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.059 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 00:35:13.061 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:35:13.063 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:35:13.064 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.066 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:35:13.067 -06:00 [DBG] Committing transaction.
2024-12-23 00:35:13.069 -06:00 [DBG] Committed transaction.
2024-12-23 00:35:13.070 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.071 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:13.073 -06:00 [INF] Transacción completada exitosamente para la orden ID: 12
2024-12-23 00:35:13.074 -06:00 [DBG] Disposing transaction.
2024-12-23 00:35:13.075 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:35:13.077 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:35:13.078 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:35:13.079 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:35:13.080 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:35:13.081 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:35:13.082 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 184.48ms
2024-12-23 00:35:13.084 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:13.085 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:13.086 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:35:13.087 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.089 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:13.090 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 213.0811ms
2024-12-23 00:35:13.096 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:35:13.099 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:35:13.100 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:35:13.102 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:13.102 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:13.103 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:13.104 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:35:13.105 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:13.107 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 10.6514ms
2024-12-23 00:35:13.110 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:35:13.112 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:35:13.114 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:35:13.115 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:13.117 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:13.117 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:13.119 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:13.119 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:13.121 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:13.122 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:35:13.124 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:35:13.125 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:35:13.127 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:35:13.129 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:35:13.131 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:35:13.132 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:35:13.134 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:35:13.135 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:35:13.137 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:35:13.138 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:35:13.140 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:35:13.141 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:35:13.142 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:35:13.144 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:35:13.145 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:35:13.146 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.149 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.151 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:13.152 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:13.154 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:13.155 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:35:13.158 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:35:13.160 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.162 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.163 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:13.165 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.166 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:35:13.168 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.169 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:13.171 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:35:13.172 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:35:13.175 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:35:13.176 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:35:13.176 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:35:13.177 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:35:13.179 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:35:13.180 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 47.6092ms
2024-12-23 00:35:13.182 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:13.183 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:13.184 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:35:13.185 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:13.187 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:13.188 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 78.3793ms
2024-12-23 00:35:21.883 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:35:21.886 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:35:21.887 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:35:21.888 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:21.889 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:21.890 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:21.891 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:35:21.892 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:21.894 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 10.4994ms
2024-12-23 00:35:21.897 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:35:21.900 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:35:21.901 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:35:21.903 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:21.904 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:21.905 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:21.906 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:21.907 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:21.908 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:21.909 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:35:21.911 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:35:21.912 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:35:21.914 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:35:21.916 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:35:21.918 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:35:21.919 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:35:21.921 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:35:21.922 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:35:21.923 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:35:21.925 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:35:21.926 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:35:21.928 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:35:21.930 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:35:21.932 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:35:21.933 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:35:21.934 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:21.936 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:21.940 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:21.941 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:21.948 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-12-23 00:35:21.950 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:35:21.953 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:35:21.956 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:21.958 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:21.959 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:21.960 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:21.962 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:35:21.963 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:21.964 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:21.966 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:35:21.967 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:35:21.970 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:35:21.971 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:35:21.971 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:35:21.972 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:35:21.974 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:35:21.975 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 56.0304ms
2024-12-23 00:35:21.977 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:21.978 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:21.979 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:35:21.980 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:21.982 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (2ms).
2024-12-23 00:35:21.984 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 86.9695ms
2024-12-23 00:35:29.996 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:35:29.999 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:35:30.000 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:35:30.001 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:30.002 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:30.003 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:30.004 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:35:30.005 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:30.006 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 10.2985ms
2024-12-23 00:35:30.010 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 48
2024-12-23 00:35:30.013 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:35:30.014 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:35:30.016 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:30.017 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:30.018 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:30.019 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:30.020 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:30.022 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:30.023 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:35:30.025 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:35:30.026 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:35:30.028 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:35:30.030 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:35:30.031 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:35:30.033 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:30.034 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:30.036 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:30.037 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:35:30.039 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:35:30.040 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000004C": started reading request body.
2024-12-23 00:35:30.042 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000004C": done reading request body.
2024-12-23 00:35:30.043 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:35:30.044 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:30.046 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:30.047 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:30.049 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:30.050 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:30.051 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:30.053 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:30.054 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:30.055 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":10,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:35:30.060 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:35:30.062 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:35:30.063 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:35:30.064 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:30.066 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:30.069 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:35:30.072 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:35:30.073 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:35:30.074 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 10
2024-12-23 00:35:30.075 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:30.076 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:30.078 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:30.079 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:30.082 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:30.085 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:30.086 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:30.087 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:35:30.089 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 7, cantidad solicitada: 10
2024-12-23 00:35:30.126 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 7, cantidad solicitada: 10.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:35:30.128 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:35:30.130 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:35:30.131 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:30.132 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:30.134 -06:00 [DBG] Disposing transaction.
2024-12-23 00:35:30.135 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:35:30.137 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:35:30.138 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:35:30.139 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:35:30.140 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:35:30.141 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:35:30.142 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 109.1971ms
2024-12-23 00:35:30.144 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:30.145 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:30.146 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:35:30.148 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:30.149 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:30.151 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 141.3488ms
2024-12-23 00:35:33.069 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 49
2024-12-23 00:35:33.071 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:35:33.072 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:35:33.074 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:33.075 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:33.076 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:33.077 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:33.078 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:33.079 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:33.080 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:35:33.082 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:35:33.083 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:35:33.085 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:35:33.086 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:35:33.088 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:35:33.090 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:33.091 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:33.092 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:33.094 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:35:33.095 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:35:33.097 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000004D": started reading request body.
2024-12-23 00:35:33.098 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000004D": done reading request body.
2024-12-23 00:35:33.099 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:35:33.100 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:33.102 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:33.103 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:33.104 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:33.106 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:33.107 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:33.109 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:33.110 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:33.111 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":8,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:35:33.116 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:35:33.118 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:35:33.119 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:35:33.120 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:33.122 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:33.125 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:35:33.128 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:35:33.129 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:35:33.130 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 8
2024-12-23 00:35:33.131 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:33.132 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:33.134 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:33.135 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:33.138 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:33.141 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:33.142 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:33.143 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:35:33.145 -06:00 [ERR] No hay suficiente stock para el producto prodv2. Stock disponible: 7, cantidad solicitada: 8
2024-12-23 00:35:33.181 -06:00 [ERR] Error al procesar la creación de la orden.
System.Exception: No hay suficiente stock para el producto prodv2. Stock disponible: 7, cantidad solicitada: 8.
   at Backend.Application.Database.Utils.Order.CreateOrder.StockValidation.StockValidationService.ValidateStockAsync(Int32 productId, Int32 quantity) in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Utils\Order\CreateOrder\StockValidation\StockValidationService.cs:line 37
   at Backend.Application.Database.Order.Commands.CreateOrder.CreateOrderCommand.<>c__DisplayClass5_0.<<Execute>b__0>d.MoveNext() in C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Application\Database\Order\Commands\CreateOrder\CreateOrderCommand.cs:line 49
2024-12-23 00:35:33.183 -06:00 [DBG] Rolling back transaction.
2024-12-23 00:35:33.185 -06:00 [DBG] Rolled back transaction.
2024-12-23 00:35:33.185 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:33.187 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:33.189 -06:00 [DBG] Disposing transaction.
2024-12-23 00:35:33.189 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:35:33.192 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:35:33.192 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:35:33.193 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:35:33.194 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:35:33.195 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:35:33.197 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 106.9019ms
2024-12-23 00:35:33.198 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:33.199 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:33.201 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:35:33.202 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:33.204 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:33.206 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 137.0073ms
2024-12-23 00:35:36.937 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - null null
2024-12-23 00:35:36.939 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:35:36.941 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:35:36.942 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:36.942 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:36.943 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:36.944 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:35:36.945 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:36.946 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/create - 204 null null 9.4289ms
2024-12-23 00:35:36.949 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/order/create - application/json 49
2024-12-23 00:35:36.952 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/create'
2024-12-23 00:35:36.953 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)' with route pattern 'api/v1/order/create' is valid for the request path '/api/v1/order/create'
2024-12-23 00:35:36.955 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:36.956 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:36.957 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:36.958 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:36.959 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:36.960 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:36.961 -06:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Order.Models.CreateOrderModel, Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand) on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 00:35:36.963 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:35:36.964 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:35:36.966 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:35:36.968 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:35:36.969 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:35:36.972 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:36.973 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 00:35:36.974 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:36.976 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' using the name '' in request data ...
2024-12-23 00:35:36.977 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 00:35:36.979 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000004F": started reading request body.
2024-12-23 00:35:36.980 -06:00 [DBG] Connection id "0HN931HM77OV2", Request id "0HN931HM77OV2:0000004F": done reading request body.
2024-12-23 00:35:36.981 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Order.Models.CreateOrderModel'
2024-12-23 00:35:36.982 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:36.984 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:36.985 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel' ...
2024-12-23 00:35:36.987 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Order.Models.CreateOrderModel'.
2024-12-23 00:35:36.988 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:36.989 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:36.991 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand' ...
2024-12-23 00:35:36.992 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Order.Commands.CreateOrder.ICreateOrderCommand'.
2024-12-23 00:35:36.993 -06:00 [INF] Iniciando la creación de la orden. Detalles de la orden: {"OrderDetails":[{"ProductId":2,"Quantity":3,"$type":"CreateOrderDetailModel"}],"$type":"CreateOrderModel"}
2024-12-23 00:35:36.998 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:35:37.000 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:35:37.001 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:35:37.002 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.004 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.007 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 00:35:37.009 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 00:35:37.011 -06:00 [INF] Transacción iniciada para la creación de la orden.
2024-12-23 00:35:37.011 -06:00 [INF] Procesando detalle de la orden: ProductoId = 2, Cantidad = 3
2024-12-23 00:35:37.013 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:37.014 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:37.015 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:37.017 -06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:37.020 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__p_0
LIMIT 1
2024-12-23 00:35:37.022 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.023 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.024 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:35:37.026 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.028 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:35:37.029 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:35:37.030 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:35:37.031 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:35:37.033 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:35:37.034 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:37.035 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:37.036 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:37.038 -06:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:35:37.048 -06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p5='?' (DbType = DateTime), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Description` = @p0, `Name` = @p1, `Price` = @p2, `Stock` = @p3
WHERE `Id` = @p4 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p4;
2024-12-23 00:35:37.050 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.052 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:35:37.053 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:35:37.055 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:35:37.056 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.058 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:35:37.059 -06:00 [INF] Stock actualizado para el producto prodv2. Stock restante: 4
2024-12-23 00:35:37.061 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:37.062 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:37.063 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:37.064 -06:00 [DBG] Executing DbCommand [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:35:37.066 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__od_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__od_ProductId_0
LIMIT 1
2024-12-23 00:35:37.069 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.070 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 00:35:37.072 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.073 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.074 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:35:37.075 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:35:37.076 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:35:37.078 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:35:37.080 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:35:37.081 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:37.082 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:37.083 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:37.084 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:37.087 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`Date`, `Total`)
VALUES (@p0, @p1);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:37.089 -06:00 [DBG] The foreign key property 'OrderEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:35:37.091 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.092 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:35:37.093 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:35:37.095 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:35:37.096 -06:00 [DBG] An entity of type 'OrderEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.098 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:35:37.099 -06:00 [INF] Orden creada exitosamente. Total: 63.00, Fecha: "2024-12-23T06:35:37.0719634Z"
2024-12-23 00:35:37.100 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'OrderDetailEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.102 -06:00 [DBG] The navigation 'OrderDetailEntity.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.103 -06:00 [DBG] The navigation 'OrderDetailEntity.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.104 -06:00 [DBG] Context 'DatabaseService' started tracking 'OrderDetailEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.106 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:35:37.107 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:35:37.108 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:35:37.109 -06:00 [DBG] Creating transaction savepoint.
2024-12-23 00:35:37.112 -06:00 [DBG] Created transaction savepoint.
2024-12-23 00:35:37.113 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:37.114 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:37.115 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:37.116 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:37.119 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OrderDetails` (`OrderId`, `ProductId`, `Quantity`)
VALUES (@p0, @p1, @p2);
SELECT `Id`
FROM `OrderDetails`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 00:35:37.122 -06:00 [DBG] The foreign key property 'OrderDetailEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 00:35:37.123 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.125 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:35:37.126 -06:00 [DBG] Releasing transaction savepoint.
2024-12-23 00:35:37.128 -06:00 [DBG] Released transaction savepoint.
2024-12-23 00:35:37.129 -06:00 [DBG] An entity of type 'OrderDetailEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.131 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:35:37.132 -06:00 [DBG] Committing transaction.
2024-12-23 00:35:37.135 -06:00 [DBG] Committed transaction.
2024-12-23 00:35:37.136 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.137 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:37.139 -06:00 [INF] Transacción completada exitosamente para la orden ID: 13
2024-12-23 00:35:37.139 -06:00 [DBG] Disposing transaction.
2024-12-23 00:35:37.140 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:35:37.142 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:35:37.143 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:35:37.144 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:35:37.145 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:35:37.146 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:35:37.147 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.Create (Backend.Api) in 175.8765ms
2024-12-23 00:35:37.149 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.Create (Backend.Api)'
2024-12-23 00:35:37.150 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:37.151 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:35:37.152 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.154 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:37.156 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/order/create - 201 null application/json; charset=utf-8 206.7515ms
2024-12-23 00:35:37.160 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 00:35:37.162 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:35:37.163 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:35:37.164 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:37.165 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:37.166 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:37.167 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:35:37.168 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:37.169 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 9.5699ms
2024-12-23 00:35:37.173 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 00:35:37.175 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 00:35:37.176 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 00:35:37.178 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:37.179 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:35:37.180 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:37.181 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:37.182 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:37.183 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:37.184 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:35:37.186 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:35:37.188 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:35:37.189 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:35:37.191 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:35:37.192 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:35:37.194 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:35:37.196 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:35:37.197 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:35:37.198 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:35:37.200 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 00:35:37.201 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 00:35:37.202 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 00:35:37.203 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:35:37.205 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:35:37.206 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:35:37.207 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.210 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.212 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:35:37.213 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:35:37.214 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:35:37.216 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:35:37.219 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 00:35:37.221 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.222 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.223 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:35:37.225 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.226 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 00:35:37.227 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.229 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:37.231 -06:00 [INF] Se obtuvieron 3 productos.
2024-12-23 00:35:37.232 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:35:37.234 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:35:37.235 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:35:37.235 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:35:37.236 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:35:37.238 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:35:37.239 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 45.1188ms
2024-12-23 00:35:37.241 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 00:35:37.242 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:37.243 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:35:37.244 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:35:37.245 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:35:37.247 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 74.1813ms
2024-12-23 00:35:58.546 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/delete/2 - null null
2024-12-23 00:35:58.549 -06:00 [DBG] No candidates found for the request path '/api/v1/delete/2'
2024-12-23 00:35:58.550 -06:00 [DBG] Request did not match any endpoints
2024-12-23 00:35:58.551 -06:00 [DBG] OPTIONS requests are not supported
2024-12-23 00:35:58.552 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:58.553 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:58.554 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:35:58.555 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:58.556 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/delete/2 - 204 null null 9.5968ms
2024-12-23 00:35:58.562 -06:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5101/api/v1/delete/2 - application/json null
2024-12-23 00:35:58.565 -06:00 [DBG] No candidates found for the request path '/api/v1/delete/2'
2024-12-23 00:35:58.566 -06:00 [DBG] Request did not match any endpoints
2024-12-23 00:35:58.566 -06:00 [DBG] DELETE requests are not supported
2024-12-23 00:35:58.568 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:35:58.569 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:35:58.570 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:35:58.571 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:35:58.572 -06:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5101/api/v1/delete/2 - 404 0 null 9.739ms
2024-12-23 00:35:58.576 -06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: DELETE http://localhost:5101/api/v1/delete/2, Response status code: 404
2024-12-23 00:36:20.176 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/delete/2 - null null
2024-12-23 00:36:20.182 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/delete/2'
2024-12-23 00:36:20.183 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 00:36:20.185 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:36:20.185 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:36:20.186 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:36:20.187 -06:00 [DBG] The request is a preflight request.
2024-12-23 00:36:20.188 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:36:20.190 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/delete/2 - 204 null null 13.7141ms
2024-12-23 00:36:20.196 -06:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5101/api/v1/product/delete/2 - application/json null
2024-12-23 00:36:20.199 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/delete/2'
2024-12-23 00:36:20.200 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)' with route pattern 'api/v1/product/delete/{Id}' is valid for the request path '/api/v1/product/delete/2'
2024-12-23 00:36:20.202 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)'
2024-12-23 00:36:20.203 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 00:36:20.204 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 00:36:20.205 -06:00 [INF] CORS policy execution successful.
2024-12-23 00:36:20.205 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 00:36:20.207 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)'
2024-12-23 00:36:20.222 -06:00 [INF] Route matched with {action = "Delete", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32, Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 00:36:20.224 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 00:36:20.225 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 00:36:20.226 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 00:36:20.228 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 00:36:20.230 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 00:36:20.232 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:36:20.233 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 00:36:20.234 -06:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-12-23 00:36:20.236 -06:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-12-23 00:36:20.238 -06:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-12-23 00:36:20.240 -06:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-12-23 00:36:20.241 -06:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-12-23 00:36:20.242 -06:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-12-23 00:36:20.243 -06:00 [DBG] Attempting to bind parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand' ...
2024-12-23 00:36:20.245 -06:00 [DBG] Done attempting to bind parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand'.
2024-12-23 00:36:20.246 -06:00 [DBG] Attempting to validate the bound parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand' ...
2024-12-23 00:36:20.248 -06:00 [DBG] Done attempting to validate the bound parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand'.
2024-12-23 00:36:20.251 -06:00 [INF] Iniciando la eliminación del producto con ID 2
2024-12-23 00:36:20.252 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 00:36:20.254 -06:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .FirstOrDefault(x => x.Id == __Id_0)'
2024-12-23 00:36:20.258 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ProductEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ProductEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.Description (string) Required MaxLength(250), 1], [Property: ProductEntity.Name (string) Required MaxLength(100), 2], [Property: ProductEntity.Price (decimal) Required, 3], [Property: ProductEntity.RowVersion (byte[]) Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 4], [Property: ProductEntity.Stock (int) Required, 5] }
            SELECT TOP(1) p.Id, p.Description, p.Name, p.Price, p.RowVersion, p.Stock
            FROM Products AS p
            WHERE p.Id == @__Id_0), 
        ReaderColumn[] { ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<decimal>, ReaderColumn<DateTime>, ReaderColumn<int> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
        Backend.Persistence.Database.DatabaseService, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-12-23 00:36:20.260 -06:00 [DBG] Creating DbConnection.
2024-12-23 00:36:20.261 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 00:36:20.262 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.265 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.267 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:36:20.268 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:36:20.270 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:36:20.271 -06:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__Id_0
LIMIT 1
2024-12-23 00:36:20.274 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__Id_0
LIMIT 1
2024-12-23 00:36:20.277 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:36:20.278 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.279 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:36:20.281 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.282 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:36:20.284 -06:00 [INF] Producto encontrado: prodv2, eliminando...
2024-12-23 00:36:20.286 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:36:20.289 -06:00 [INF] Producto prodv2 eliminado correctamente.
2024-12-23 00:36:20.290 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 00:36:20.291 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 00:36:20.292 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 00:36:20.295 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.298 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.300 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 00:36:20.301 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 00:36:20.302 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 00:36:20.304 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Products`
WHERE `Id` = @p0 AND `RowVersion` IS NULL;
SELECT ROW_COUNT();
2024-12-23 00:36:20.311 -06:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Products`
WHERE `Id` = @p0 AND `RowVersion` IS NULL;
SELECT ROW_COUNT();
2024-12-23 00:36:20.315 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.316 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 00:36:20.318 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.319 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:36:20.323 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 00:36:20.325 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 00:36:20.326 -06:00 [INF] Cambios guardados correctamente después de eliminar el producto prodv2.
2024-12-23 00:36:20.327 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 00:36:20.329 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 00:36:20.330 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 00:36:20.331 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 00:36:20.332 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 00:36:20.334 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 00:36:20.335 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.Delete (Backend.Api) in 103.6602ms
2024-12-23 00:36:20.337 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)'
2024-12-23 00:36:20.338 -06:00 [DBG] Connection id "0HN931HM77OV2" completed keep alive response.
2024-12-23 00:36:20.339 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 00:36:20.340 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 00:36:20.342 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 00:36:20.344 -06:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5101/api/v1/product/delete/2 - 200 null application/json; charset=utf-8 147.4864ms
2024-12-23 00:41:30.976 -06:00 [DBG] Connection id "0HN931HM77OV2" received FIN.
2024-12-23 00:41:30.980 -06:00 [DBG] Connection id "0HN931HM77OV2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 00:41:30.982 -06:00 [DBG] Connection id "0HN931HM77OV2" disconnecting.
2024-12-23 00:41:30.987 -06:00 [DBG] Connection id "0HN931HM77OV2" stopped.
2024-12-23 01:02:29.442 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-23 01:02:29.887 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:02:30.302 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:06:23.044 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-23 01:06:23.472 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:06:23.489 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:06:23.495 -06:00 [DBG] Created DbConnection. (4ms).
2024-12-23 01:06:23.503 -06:00 [DBG] Migrating using database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.511 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:06:23.512 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:06:23.514 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.607 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.628 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.632 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:06:23.638 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:06:23.642 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-12-23 01:06:23.645 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-12-23 01:06:23.647 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.659 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.665 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:06:23.684 -06:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:06:23.687 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.690 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (3ms).
2024-12-23 01:06:23.692 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:06:23.693 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:06:23.695 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.707 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.709 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.710 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:06:23.782 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:06:23.783 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:06:23.785 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:06:23.787 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.790 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.792 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:06:23.831 -06:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:06:23.834 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.835 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:06:23.838 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:06:23.839 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:06:23.840 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.847 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.849 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:06:23.850 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:06:23.852 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:06:23.853 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-12-23 01:06:23.855 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-12-23 01:06:23.856 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.858 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.860 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:06:23.865 -06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:06:23.868 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.870 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:06:23.872 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.874 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.876 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:06:23.877 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:06:23.879 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:06:23.880 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:06:23.886 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:06:23.889 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.892 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 01:06:23.893 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.895 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (2ms).
2024-12-23 01:06:23.903 -06:00 [INF] Applying migration '20241223070230_MainMigration'.
2024-12-23 01:06:23.924 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.926 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.929 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 01:06:23.933 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 01:06:23.934 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:06:23.936 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:06:23.938 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-12-23 01:06:23.939 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2024-12-23 01:06:23.946 -06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2024-12-23 01:06:23.949 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:06:23.950 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:06:23.951 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:06:23.953 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Orders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Date` datetime(6) NOT NULL,
    `Total` decimal(18,2) NOT NULL,
    CONSTRAINT `PK_Orders` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:06:23.959 -06:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Orders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Date` datetime(6) NOT NULL,
    `Total` decimal(18,2) NOT NULL,
    CONSTRAINT `PK_Orders` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:06:23.964 -06:00 [DBG] Disposing transaction.
2024-12-23 01:06:23.965 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.967 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:06:23.970 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:06:23.972 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:06:23.974 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:07:05.546 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-23 01:07:05.943 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:07:05.959 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:07:05.964 -06:00 [DBG] Created DbConnection. (3ms).
2024-12-23 01:07:05.971 -06:00 [DBG] Migrating using database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:05.977 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:07:05.978 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:07:05.981 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.064 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.086 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.091 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (2ms).
2024-12-23 01:07:06.093 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:07:06.094 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:07:06.095 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.101 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.104 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.105 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:07:06.127 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:07:06.128 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:07:06.130 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.136 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.141 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 01:07:06.146 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 01:07:06.149 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.154 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:07:06.156 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2024-12-23 01:07:06.162 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `paynaudb`;
2024-12-23 01:07:06.173 -06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `paynaudb`;
2024-12-23 01:07:06.177 -06:00 [DBG] Committing transaction.
2024-12-23 01:07:06.179 -06:00 [DBG] Committed transaction.
2024-12-23 01:07:06.181 -06:00 [DBG] Disposing transaction.
2024-12-23 01:07:06.183 -06:00 [DBG] Closing connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.186 -06:00 [DBG] Closed connection to database '' on server '127.0.0.1' (2ms).
2024-12-23 01:07:06.189 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.190 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:07:06.192 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:07:06.193 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:07:06.194 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.201 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.204 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.206 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:07:06.265 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.266 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.268 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-12-23 01:07:06.269 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.282 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.284 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.297 -06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.300 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.303 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (2ms).
2024-12-23 01:07:06.306 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:07:06.307 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:07:06.308 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.316 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.318 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:07:06.319 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:07:06.323 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:07:06.324 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-12-23 01:07:06.326 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2024-12-23 01:07:06.328 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.332 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.334 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:07:06.342 -06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:07:06.345 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.346 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:07:06.349 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.351 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.353 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:07:06.354 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:07:06.356 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:07:06.358 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:07:06.362 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:07:06.366 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.369 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 01:07:06.370 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.372 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:07:06.381 -06:00 [INF] Applying migration '20241223070230_MainMigration'.
2024-12-23 01:07:06.402 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.405 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.407 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 01:07:06.409 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 01:07:06.410 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.411 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.413 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-12-23 01:07:06.415 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2024-12-23 01:07:06.419 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2024-12-23 01:07:06.422 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.423 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.425 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:07:06.426 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Orders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Date` datetime(6) NOT NULL,
    `Total` decimal(18,2) NOT NULL,
    CONSTRAINT `PK_Orders` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.439 -06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Orders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Date` datetime(6) NOT NULL,
    `Total` decimal(18,2) NOT NULL,
    CONSTRAINT `PK_Orders` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.442 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.443 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.445 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:07:06.446 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Products` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(100) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(250) CHARACTER SET utf8mb4 NOT NULL,
    `Price` decimal(18,2) NOT NULL,
    `Stock` int NOT NULL,
    `RowVersion` timestamp(6) NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    CONSTRAINT `PK_Products` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.460 -06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Products` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(100) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(250) CHARACTER SET utf8mb4 NOT NULL,
    `Price` decimal(18,2) NOT NULL,
    `Stock` int NOT NULL,
    `RowVersion` timestamp(6) NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    CONSTRAINT `PK_Products` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.463 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.464 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.466 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-12-23 01:07:06.468 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OrderDetails` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `ProductId` int NOT NULL,
    `Quantity` int NOT NULL,
    CONSTRAINT `PK_OrderDetails` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_OrderDetails_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_OrderDetails_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.496 -06:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OrderDetails` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `ProductId` int NOT NULL,
    `Quantity` int NOT NULL,
    CONSTRAINT `PK_OrderDetails` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_OrderDetails_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_OrderDetails_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2024-12-23 01:07:06.499 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.500 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.502 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:07:06.504 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderDetails_OrderId` ON `OrderDetails` (`OrderId`);
2024-12-23 01:07:06.522 -06:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderDetails_OrderId` ON `OrderDetails` (`OrderId`);
2024-12-23 01:07:06.525 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.526 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.527 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:07:06.528 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderDetails_ProductId` ON `OrderDetails` (`ProductId`);
2024-12-23 01:07:06.540 -06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderDetails_ProductId` ON `OrderDetails` (`ProductId`);
2024-12-23 01:07:06.543 -06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-12-23 01:07:06.544 -06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-12-23 01:07:06.545 -06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-12-23 01:07:06.547 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20241223070230_MainMigration', '8.0.8');
2024-12-23 01:07:06.551 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20241223070230_MainMigration', '8.0.8');
2024-12-23 01:07:06.554 -06:00 [DBG] Committing transaction.
2024-12-23 01:07:06.555 -06:00 [DBG] Committed transaction.
2024-12-23 01:07:06.556 -06:00 [DBG] Disposing transaction.
2024-12-23 01:07:06.557 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.559 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:07:06.562 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:07:06.564 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:07:06.566 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:34:47.469 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-23 01:34:47.997 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:34:48.008 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:34:48.015 -06:00 [DBG] Created DbConnection. (4ms).
2024-12-23 01:34:48.030 -06:00 [DBG] Migrating using database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.039 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:34:48.040 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:34:48.043 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:34:48.227 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:34:48.266 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:34:48.271 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (2ms).
2024-12-23 01:34:48.280 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:34:48.284 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2024-12-23 01:34:48.287 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-12-23 01:34:48.288 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.304 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.309 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:34:48.355 -06:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:34:48.358 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.362 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (3ms).
2024-12-23 01:34:48.364 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:34:48.365 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:34:48.366 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:34:48.376 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:34:48.379 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:34:48.380 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:34:48.382 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:34:48.383 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-12-23 01:34:48.385 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-12-23 01:34:48.386 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.390 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.391 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:34:48.394 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:34:48.396 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.398 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:34:48.414 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.416 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.417 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:34:48.419 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:34:48.420 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:34:48.422 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:34:48.427 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:34:48.430 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.433 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 01:34:48.435 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.436 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:34:48.445 -06:00 [INF] No migrations were applied. The database is already up to date.
2024-12-23 01:34:48.447 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:34:48.449 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:34:48.450 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:34:48.520 -06:00 [DBG] Initializing Razor view compiler with no compiled views.
2024-12-23 01:34:48.528 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-23 01:34:48.564 -06:00 [INF] User profile is available. Using 'C:\Users\PELT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-23 01:34:48.619 -06:00 [DBG] Hosting starting
2024-12-23 01:34:48.629 -06:00 [DBG] Reading data from file 'C:\Users\PELT\AppData\Local\ASP.NET\DataProtection-Keys\key-ada39264-2b40-410d-a912-fb2dd81f0290.xml'.
2024-12-23 01:34:48.651 -06:00 [DBG] Found key {ada39264-2b40-410d-a912-fb2dd81f0290}.
2024-12-23 01:34:48.659 -06:00 [DBG] Considering key {ada39264-2b40-410d-a912-fb2dd81f0290} with expiration date 2025-01-20 04:17:56Z as default key.
2024-12-23 01:34:48.663 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-23 01:34:48.666 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-23 01:34:48.668 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-23 01:34:48.672 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-23 01:34:48.674 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-23 01:34:48.676 -06:00 [DBG] Using key {ada39264-2b40-410d-a912-fb2dd81f0290} as the default key.
2024-12-23 01:34:48.678 -06:00 [DBG] Key ring with default key {ada39264-2b40-410d-a912-fb2dd81f0290} was loaded during application startup.
2024-12-23 01:34:49.010 -06:00 [INF] Now listening on: http://localhost:5101
2024-12-23 01:34:49.012 -06:00 [DBG] Loaded hosting startup assembly Backend.Api
2024-12-23 01:34:49.013 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-23 01:34:49.014 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-23 01:34:49.016 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-23 01:34:49.017 -06:00 [INF] Hosting environment: Development
2024-12-23 01:34:49.018 -06:00 [INF] Content root path: C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Api
2024-12-23 01:34:49.019 -06:00 [DBG] Hosting started
2024-12-23 01:34:49.396 -06:00 [DBG] Connection id "0HN934H43HPM4" accepted.
2024-12-23 01:34:49.398 -06:00 [DBG] Connection id "0HN934H43HPM4" started.
2024-12-23 01:34:49.404 -06:00 [DBG] Connection id "0HN934H43HPM5" accepted.
2024-12-23 01:34:49.405 -06:00 [DBG] Connection id "0HN934H43HPM5" started.
2024-12-23 01:34:49.420 -06:00 [DBG] Connection id "0HN934H43HPM5" received FIN.
2024-12-23 01:34:49.420 -06:00 [DBG] Connection id "0HN934H43HPM4" received FIN.
2024-12-23 01:34:49.426 -06:00 [DBG] Connection id "0HN934H43HPM5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:34:49.426 -06:00 [DBG] Connection id "0HN934H43HPM4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:34:49.431 -06:00 [DBG] Connection id "0HN934H43HPM5" disconnecting.
2024-12-23 01:34:49.437 -06:00 [DBG] Connection id "0HN934H43HPM4" disconnecting.
2024-12-23 01:34:49.444 -06:00 [DBG] Connection id "0HN934H43HPM5" stopped.
2024-12-23 01:34:49.444 -06:00 [DBG] Connection id "0HN934H43HPM4" stopped.
2024-12-23 01:34:49.773 -06:00 [DBG] Connection id "0HN934H43HPM6" accepted.
2024-12-23 01:34:49.775 -06:00 [DBG] Connection id "0HN934H43HPM6" started.
2024-12-23 01:34:49.776 -06:00 [DBG] Connection id "0HN934H43HPM7" accepted.
2024-12-23 01:34:49.778 -06:00 [DBG] Connection id "0HN934H43HPM7" started.
2024-12-23 01:34:49.817 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/index.html - null null
2024-12-23 01:34:49.907 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-23 01:34:49.922 -06:00 [DBG] No candidates found for the request path '/index.html'
2024-12-23 01:34:49.923 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:34:50.043 -06:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-12-23 01:34:50.046 -06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-23 01:34:50.075 -06:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-12-23 01:34:50.077 -06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-23 01:34:50.078 -06:00 [DBG] Connection id "0HN934H43HPM6" completed keep alive response.
2024-12-23 01:34:50.082 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/index.html - 200 null text/html;charset=utf-8 274.0855ms
2024-12-23 01:34:50.155 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-12-23 01:34:50.155 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/index.js - null null
2024-12-23 01:34:50.158 -06:00 [DBG] Connection id "0HN934H43HPM8" accepted.
2024-12-23 01:34:50.162 -06:00 [DBG] Connection id "0HN934H43HPM6" completed keep alive response.
2024-12-23 01:34:50.164 -06:00 [DBG] Connection id "0HN934H43HPM8" started.
2024-12-23 01:34:50.163 -06:00 [DBG] No candidates found for the request path '/index.js'
2024-12-23 01:34:50.165 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.0507ms
2024-12-23 01:34:50.168 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-12-23 01:34:50.169 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:34:50.179 -06:00 [DBG] Connection id "0HN934H43HPM7" completed keep alive response.
2024-12-23 01:34:50.181 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/index.js - 200 null application/javascript;charset=utf-8 25.2831ms
2024-12-23 01:34:50.212 -06:00 [DBG] Connection id "0HN934H43HPM8" completed keep alive response.
2024-12-23 01:34:50.213 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0928ms
2024-12-23 01:34:50.295 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-12-23 01:34:50.298 -06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-12-23 01:34:50.299 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:34:50.408 -06:00 [DBG] Connection id "0HN934H43HPM8" completed keep alive response.
2024-12-23 01:34:50.409 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.864ms
2024-12-23 01:34:52.394 -06:00 [DBG] Connection id "0HN934H43HPM7" received FIN.
2024-12-23 01:34:52.394 -06:00 [DBG] Connection id "0HN934H43HPM6" received FIN.
2024-12-23 01:34:52.394 -06:00 [DBG] Connection id "0HN934H43HPM8" received FIN.
2024-12-23 01:34:52.396 -06:00 [DBG] Connection id "0HN934H43HPM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:34:52.397 -06:00 [DBG] Connection id "0HN934H43HPM6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:34:52.400 -06:00 [DBG] Connection id "0HN934H43HPM7" disconnecting.
2024-12-23 01:34:52.398 -06:00 [DBG] Connection id "0HN934H43HPM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:34:52.430 -06:00 [DBG] Connection id "0HN934H43HPM6" disconnecting.
2024-12-23 01:34:52.432 -06:00 [DBG] Connection id "0HN934H43HPM7" stopped.
2024-12-23 01:34:52.434 -06:00 [DBG] Connection id "0HN934H43HPM8" disconnecting.
2024-12-23 01:34:52.437 -06:00 [DBG] Connection id "0HN934H43HPM8" stopped.
2024-12-23 01:34:52.444 -06:00 [DBG] Connection id "0HN934H43HPM6" stopped.
2024-12-23 01:34:54.484 -06:00 [DBG] Connection id "0HN934H43HPM9" accepted.
2024-12-23 01:34:54.487 -06:00 [DBG] Connection id "0HN934H43HPM9" started.
2024-12-23 01:34:54.489 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:34:54.497 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:34:54.501 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:34:54.503 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:34:54.506 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:34:54.576 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:34:54.579 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:34:54.603 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:34:54.607 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:34:54.609 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:34:54.611 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:34:54.614 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:34:54.616 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:34:54.621 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:34:54.623 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:34:54.732 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:34:54.737 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:34:54.738 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:34:54.739 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:34:54.741 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:34:54.744 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:34:54.784 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 162.8652ms
2024-12-23 01:34:54.785 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:34:54.787 -06:00 [DBG] Connection id "0HN934H43HPM9" completed keep alive response.
2024-12-23 01:34:54.788 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 299.5186ms
2024-12-23 01:34:57.401 -06:00 [DBG] Connection id "0HN934H43HPM9" received FIN.
2024-12-23 01:34:57.402 -06:00 [DBG] Connection id "0HN934H43HPM9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:34:57.404 -06:00 [DBG] Connection id "0HN934H43HPM9" disconnecting.
2024-12-23 01:34:57.405 -06:00 [DBG] Connection id "0HN934H43HPM9" stopped.
2024-12-23 01:39:50.179 -06:00 [DBG] Connection id "0HN934H43HPMA" accepted.
2024-12-23 01:39:50.184 -06:00 [DBG] Connection id "0HN934H43HPMA" started.
2024-12-23 01:39:50.186 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:39:50.192 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:39:50.194 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:39:50.196 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:39:50.199 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 01:39:50.201 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:39:50.203 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:39:50.205 -06:00 [DBG] Connection id "0HN934H43HPMA" completed keep alive response.
2024-12-23 01:39:50.207 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 20.786ms
2024-12-23 01:39:50.214 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:39:50.217 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:39:50.218 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:39:50.220 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:39:50.221 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:39:50.222 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 01:39:50.224 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:39:50.226 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:39:50.227 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:39:50.229 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:39:50.231 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:39:50.233 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:39:50.235 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:39:50.237 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:39:50.238 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:39:50.241 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:39:50.242 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:39:50.245 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:39:50.247 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:39:50.248 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:39:50.249 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:39:50.250 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:39:50.252 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:39:50.254 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 13.7131ms
2024-12-23 01:39:50.256 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:39:50.257 -06:00 [DBG] Connection id "0HN934H43HPMA" completed keep alive response.
2024-12-23 01:39:50.258 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 44.6279ms
2024-12-23 01:39:50.262 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:39:50.265 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:39:50.267 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:39:50.268 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:39:50.269 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 01:39:50.270 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:39:50.271 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:39:50.272 -06:00 [DBG] Connection id "0HN934H43HPMA" completed keep alive response.
2024-12-23 01:39:50.273 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 10.8835ms
2024-12-23 01:39:50.277 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:39:50.281 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:39:50.282 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:39:50.284 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:39:50.285 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:39:50.286 -06:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-12-23 01:39:50.287 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:39:50.289 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:39:50.291 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:39:50.301 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:39:50.303 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:39:50.305 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:39:50.307 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:39:50.309 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:39:50.311 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:39:50.314 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:39:50.315 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:39:50.322 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:39:50.327 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:39:50.328 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:39:50.331 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:39:50.335 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:39:50.354 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:39:50.371 -06:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()'
2024-12-23 01:39:50.502 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.Description (string) Required MaxLength(250), 1], [Property: ProductEntity.Name (string) Required MaxLength(100), 2], [Property: ProductEntity.Price (decimal) Required, 3], [Property: ProductEntity.RowVersion (byte[]) Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 4], [Property: ProductEntity.Stock (int) Required, 5] }
        SELECT p.Id, p.Description, p.Name, p.Price, p.RowVersion, p.Stock
        FROM Products AS p), 
    ReaderColumn[] { ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<decimal>, ReaderColumn<DateTime>, ReaderColumn<int> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Backend.Persistence.Database.DatabaseService, 
    False, 
    False, 
    True
)'
2024-12-23 01:39:50.528 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:39:50.529 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:39:50.532 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:39:50.565 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:39:50.569 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:39:50.570 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:39:50.572 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-12-23 01:39:50.574 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:39:50.586 -06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:39:50.613 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:39:50.615 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 7ms reading results.
2024-12-23 01:39:50.618 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:39:50.620 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:39:50.622 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:39:50.626 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:39:50.628 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:39:50.629 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:39:50.630 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:39:50.631 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:39:50.632 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:39:50.649 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 334.9949ms
2024-12-23 01:39:50.651 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:39:50.654 -06:00 [DBG] Connection id "0HN934H43HPMA" completed keep alive response.
2024-12-23 01:39:50.656 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:39:50.658 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:39:50.661 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (2ms).
2024-12-23 01:39:50.663 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 385.8116ms
2024-12-23 01:39:52.863 -06:00 [DBG] Connection id "0HN934H43HPMA" received FIN.
2024-12-23 01:39:52.865 -06:00 [DBG] Connection id "0HN934H43HPMA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:39:52.867 -06:00 [DBG] Connection id "0HN934H43HPMA" disconnecting.
2024-12-23 01:39:52.868 -06:00 [DBG] Connection id "0HN934H43HPMA" stopped.
2024-12-23 01:41:44.624 -06:00 [DBG] Connection id "0HN934H43HPMB" accepted.
2024-12-23 01:41:44.656 -06:00 [DBG] Connection id "0HN934H43HPMB" started.
2024-12-23 01:41:44.660 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:41:44.665 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:41:44.666 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:41:44.668 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:41:44.669 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:41:44.670 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:41:44.671 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:41:44.672 -06:00 [DBG] Connection id "0HN934H43HPMB" completed keep alive response.
2024-12-23 01:41:44.674 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 13.7864ms
2024-12-23 01:41:44.683 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:41:44.687 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:41:44.689 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:41:44.691 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:41:44.692 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:41:44.693 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:41:44.694 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:41:44.695 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:41:44.697 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:41:44.698 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:41:44.700 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:41:44.701 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:41:44.703 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:41:44.705 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:41:44.706 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:41:44.708 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:41:44.709 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:41:44.711 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:41:44.713 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:41:44.713 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:41:44.714 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:41:44.715 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:41:44.716 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:41:44.718 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 10.0789ms
2024-12-23 01:41:44.719 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:41:44.721 -06:00 [DBG] Connection id "0HN934H43HPMB" completed keep alive response.
2024-12-23 01:41:44.722 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 38.9044ms
2024-12-23 01:41:44.725 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:41:44.727 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:41:44.728 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:41:44.729 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:41:44.730 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:41:44.731 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:41:44.732 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:41:44.733 -06:00 [DBG] Connection id "0HN934H43HPMB" completed keep alive response.
2024-12-23 01:41:44.734 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 8.9242ms
2024-12-23 01:41:44.737 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:41:44.740 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:41:44.741 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:41:44.743 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:41:44.744 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:41:44.745 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:41:44.746 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:41:44.747 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:41:44.748 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:41:44.749 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:41:44.751 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:41:44.752 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:41:44.753 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:41:44.755 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:41:44.756 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:41:44.758 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:41:44.759 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:41:44.761 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:41:44.764 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:41:44.766 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:41:44.767 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:41:44.768 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:41:44.826 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:41:44.836 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:41:44.837 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:41:44.838 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:41:44.843 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:41:44.845 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:41:44.846 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 01:41:44.847 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:41:44.848 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:41:44.851 -06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:41:44.852 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:41:44.853 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 0ms reading results.
2024-12-23 01:41:44.854 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:41:44.855 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 01:41:44.857 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:41:44.857 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:41:44.859 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:41:44.860 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:41:44.860 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:41:44.861 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:41:44.862 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:41:44.863 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 105.3589ms
2024-12-23 01:41:44.864 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:41:44.865 -06:00 [DBG] Connection id "0HN934H43HPMB" completed keep alive response.
2024-12-23 01:41:44.866 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:41:44.867 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:41:44.868 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:41:44.870 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 132.9245ms
2024-12-23 01:41:53.034 -06:00 [DBG] Connection id "0HN934H43HPMB" received FIN.
2024-12-23 01:41:53.035 -06:00 [DBG] Connection id "0HN934H43HPMB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:41:53.037 -06:00 [DBG] Connection id "0HN934H43HPMB" disconnecting.
2024-12-23 01:41:53.038 -06:00 [DBG] Connection id "0HN934H43HPMB" stopped.
2024-12-23 01:42:24.660 -06:00 [DBG] Connection id "0HN934H43HPMC" accepted.
2024-12-23 01:42:24.677 -06:00 [DBG] Connection id "0HN934H43HPMC" started.
2024-12-23 01:42:24.679 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:42:24.685 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:42:24.687 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:42:24.688 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:42:24.690 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:42:24.693 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:42:24.694 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:42:24.695 -06:00 [DBG] Connection id "0HN934H43HPMC" completed keep alive response.
2024-12-23 01:42:24.696 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 16.9381ms
2024-12-23 01:42:24.704 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:42:24.707 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:42:24.710 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:42:24.712 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:42:24.713 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:42:24.714 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:42:24.716 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:42:24.716 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:42:24.718 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:42:24.719 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:42:24.721 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:42:24.723 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:42:24.725 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:42:24.726 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:42:24.727 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:42:24.729 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:42:24.730 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:42:24.732 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:42:24.734 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:42:24.735 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:42:24.736 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:42:24.737 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:42:24.738 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:42:24.739 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 10.1528ms
2024-12-23 01:42:24.741 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:42:24.742 -06:00 [DBG] Connection id "0HN934H43HPMC" completed keep alive response.
2024-12-23 01:42:24.743 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 38.5562ms
2024-12-23 01:42:24.746 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:42:24.749 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:42:24.750 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:42:24.751 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:42:24.752 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:42:24.753 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:42:24.754 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:42:24.756 -06:00 [DBG] Connection id "0HN934H43HPMC" completed keep alive response.
2024-12-23 01:42:24.758 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.7028ms
2024-12-23 01:42:24.761 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:42:24.764 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:42:24.767 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:42:24.776 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:42:24.778 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:42:24.779 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:42:24.780 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:42:24.781 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:42:24.783 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:42:24.784 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:42:24.787 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:42:24.789 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:42:24.791 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:42:24.793 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:42:24.794 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:42:24.796 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:42:24.797 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:42:24.798 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:42:24.800 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:42:24.801 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:42:24.802 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:42:24.803 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:42:24.804 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:42:24.808 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:42:24.808 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:42:24.809 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:42:24.812 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:42:24.819 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:42:24.820 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 01:42:24.821 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:42:24.822 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:42:24.824 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:42:24.826 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:42:24.827 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 0ms reading results.
2024-12-23 01:42:24.828 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:42:24.829 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 01:42:24.830 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:42:24.831 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:42:24.833 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:42:24.834 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:42:24.834 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:42:24.835 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:42:24.836 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:42:24.837 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 41.4959ms
2024-12-23 01:42:24.838 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:42:24.840 -06:00 [DBG] Connection id "0HN934H43HPMC" completed keep alive response.
2024-12-23 01:42:24.841 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:42:24.842 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:42:24.843 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:42:24.844 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 83.3901ms
2024-12-23 01:42:33.061 -06:00 [DBG] Connection id "0HN934H43HPMC" received FIN.
2024-12-23 01:42:33.063 -06:00 [DBG] Connection id "0HN934H43HPMC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:42:33.064 -06:00 [DBG] Connection id "0HN934H43HPMC" disconnecting.
2024-12-23 01:42:33.065 -06:00 [DBG] Connection id "0HN934H43HPMC" stopped.
2024-12-23 01:43:54.873 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-23 01:43:55.434 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:43:55.444 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:43:55.449 -06:00 [DBG] Created DbConnection. (3ms).
2024-12-23 01:43:55.463 -06:00 [DBG] Migrating using database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.471 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:43:55.472 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:43:55.474 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:43:55.599 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:43:55.639 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:43:55.644 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (2ms).
2024-12-23 01:43:55.650 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:43:55.654 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-12-23 01:43:55.657 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-12-23 01:43:55.658 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.674 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.680 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:43:55.701 -06:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:43:55.705 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.709 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (3ms).
2024-12-23 01:43:55.711 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:43:55.712 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:43:55.713 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:43:55.722 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:43:55.724 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:43:55.725 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:43:55.727 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:43:55.728 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-12-23 01:43:55.730 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2024-12-23 01:43:55.732 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.736 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.737 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:43:55.740 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:43:55.742 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.744 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:43:55.758 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.760 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.763 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:43:55.765 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:43:55.767 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-12-23 01:43:55.769 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:43:55.774 -06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:43:55.780 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.782 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 4ms reading results.
2024-12-23 01:43:55.784 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.786 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:43:55.797 -06:00 [INF] No migrations were applied. The database is already up to date.
2024-12-23 01:43:55.799 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:43:55.801 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:43:55.802 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:43:55.863 -06:00 [DBG] Initializing Razor view compiler with no compiled views.
2024-12-23 01:43:55.871 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-23 01:43:55.900 -06:00 [INF] User profile is available. Using 'C:\Users\PELT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-23 01:43:55.953 -06:00 [DBG] Hosting starting
2024-12-23 01:43:55.965 -06:00 [DBG] Reading data from file 'C:\Users\PELT\AppData\Local\ASP.NET\DataProtection-Keys\key-ada39264-2b40-410d-a912-fb2dd81f0290.xml'.
2024-12-23 01:43:55.977 -06:00 [DBG] Found key {ada39264-2b40-410d-a912-fb2dd81f0290}.
2024-12-23 01:43:55.986 -06:00 [DBG] Considering key {ada39264-2b40-410d-a912-fb2dd81f0290} with expiration date 2025-01-20 04:17:56Z as default key.
2024-12-23 01:43:55.990 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-23 01:43:55.992 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-23 01:43:55.993 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-23 01:43:55.997 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-23 01:43:56.000 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-23 01:43:56.003 -06:00 [DBG] Using key {ada39264-2b40-410d-a912-fb2dd81f0290} as the default key.
2024-12-23 01:43:56.005 -06:00 [DBG] Key ring with default key {ada39264-2b40-410d-a912-fb2dd81f0290} was loaded during application startup.
2024-12-23 01:43:56.114 -06:00 [INF] Now listening on: http://localhost:5101
2024-12-23 01:43:56.116 -06:00 [DBG] Loaded hosting startup assembly Backend.Api
2024-12-23 01:43:56.117 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-23 01:43:56.118 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-23 01:43:56.119 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-23 01:43:56.120 -06:00 [INF] Hosting environment: Development
2024-12-23 01:43:56.121 -06:00 [INF] Content root path: C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Api
2024-12-23 01:43:56.122 -06:00 [DBG] Hosting started
2024-12-23 01:43:56.145 -06:00 [DBG] Connection id "0HN934M71O6SP" accepted.
2024-12-23 01:43:56.147 -06:00 [DBG] Connection id "0HN934M71O6SP" started.
2024-12-23 01:43:56.153 -06:00 [DBG] Connection id "0HN934M71O6SQ" accepted.
2024-12-23 01:43:56.155 -06:00 [DBG] Connection id "0HN934M71O6SQ" started.
2024-12-23 01:43:56.171 -06:00 [DBG] Connection id "0HN934M71O6SP" received FIN.
2024-12-23 01:43:56.171 -06:00 [DBG] Connection id "0HN934M71O6SQ" received FIN.
2024-12-23 01:43:56.177 -06:00 [DBG] Connection id "0HN934M71O6SQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:43:56.175 -06:00 [DBG] Connection id "0HN934M71O6SP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:43:56.182 -06:00 [DBG] Connection id "0HN934M71O6SQ" disconnecting.
2024-12-23 01:43:56.186 -06:00 [DBG] Connection id "0HN934M71O6SP" disconnecting.
2024-12-23 01:43:56.193 -06:00 [DBG] Connection id "0HN934M71O6SQ" stopped.
2024-12-23 01:43:56.194 -06:00 [DBG] Connection id "0HN934M71O6SP" stopped.
2024-12-23 01:43:56.413 -06:00 [DBG] Connection id "0HN934M71O6SR" accepted.
2024-12-23 01:43:56.415 -06:00 [DBG] Connection id "0HN934M71O6SR" started.
2024-12-23 01:43:56.416 -06:00 [DBG] Connection id "0HN934M71O6SS" accepted.
2024-12-23 01:43:56.419 -06:00 [DBG] Connection id "0HN934M71O6SS" started.
2024-12-23 01:43:56.453 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/index.html - null null
2024-12-23 01:43:56.538 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-23 01:43:56.559 -06:00 [DBG] No candidates found for the request path '/index.html'
2024-12-23 01:43:56.561 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:43:56.665 -06:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-12-23 01:43:56.668 -06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-23 01:43:56.688 -06:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-12-23 01:43:56.689 -06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-23 01:43:56.691 -06:00 [DBG] Connection id "0HN934M71O6SR" completed keep alive response.
2024-12-23 01:43:56.694 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/index.html - 200 null text/html;charset=utf-8 249.2335ms
2024-12-23 01:43:56.762 -06:00 [DBG] Connection id "0HN934M71O6ST" accepted.
2024-12-23 01:43:56.763 -06:00 [DBG] Connection id "0HN934M71O6ST" started.
2024-12-23 01:43:56.764 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/index.js - null null
2024-12-23 01:43:56.765 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-12-23 01:43:56.765 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-12-23 01:43:56.769 -06:00 [DBG] No candidates found for the request path '/index.js'
2024-12-23 01:43:56.780 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:43:56.782 -06:00 [DBG] Connection id "0HN934M71O6ST" completed keep alive response.
2024-12-23 01:43:56.784 -06:00 [DBG] Connection id "0HN934M71O6SR" completed keep alive response.
2024-12-23 01:43:56.784 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 19.0232ms
2024-12-23 01:43:56.786 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/index.js - 200 null application/javascript;charset=utf-8 27.0981ms
2024-12-23 01:43:56.800 -06:00 [DBG] Connection id "0HN934M71O6SS" completed keep alive response.
2024-12-23 01:43:56.801 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.7317ms
2024-12-23 01:43:56.852 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-12-23 01:43:56.857 -06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-12-23 01:43:56.858 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:43:56.953 -06:00 [DBG] Connection id "0HN934M71O6SS" completed keep alive response.
2024-12-23 01:43:56.955 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.6477ms
2024-12-23 01:43:58.177 -06:00 [DBG] Connection id "0HN934M71O6ST" received FIN.
2024-12-23 01:43:58.177 -06:00 [DBG] Connection id "0HN934M71O6SS" received FIN.
2024-12-23 01:43:58.178 -06:00 [DBG] Connection id "0HN934M71O6SR" received FIN.
2024-12-23 01:43:58.179 -06:00 [DBG] Connection id "0HN934M71O6ST" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:43:58.181 -06:00 [DBG] Connection id "0HN934M71O6SS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:43:58.185 -06:00 [DBG] Connection id "0HN934M71O6ST" disconnecting.
2024-12-23 01:43:58.182 -06:00 [DBG] Connection id "0HN934M71O6SR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:43:58.191 -06:00 [DBG] Connection id "0HN934M71O6SS" disconnecting.
2024-12-23 01:43:58.195 -06:00 [DBG] Connection id "0HN934M71O6SR" disconnecting.
2024-12-23 01:43:58.196 -06:00 [DBG] Connection id "0HN934M71O6SS" stopped.
2024-12-23 01:43:58.198 -06:00 [DBG] Connection id "0HN934M71O6SR" stopped.
2024-12-23 01:43:58.208 -06:00 [DBG] Connection id "0HN934M71O6ST" stopped.
2024-12-23 01:44:01.177 -06:00 [DBG] Connection id "0HN934M71O6SU" accepted.
2024-12-23 01:44:01.178 -06:00 [DBG] Connection id "0HN934M71O6SU" started.
2024-12-23 01:44:01.183 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:44:01.194 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:01.197 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:01.201 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:01.204 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:01.206 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:01.209 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:01.212 -06:00 [DBG] Connection id "0HN934M71O6SU" completed keep alive response.
2024-12-23 01:44:01.214 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 31.607ms
2024-12-23 01:44:01.219 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:44:01.224 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:01.230 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:01.232 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:01.234 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:01.235 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:01.236 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:01.318 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:44:01.324 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:01.345 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:44:01.348 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:44:01.350 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:44:01.351 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:44:01.353 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:44:01.354 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:44:01.357 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:01.359 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:01.451 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:44:01.456 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:44:01.457 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:44:01.457 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:44:01.459 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:44:01.461 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:44:01.494 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 137.3204ms
2024-12-23 01:44:01.496 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:01.497 -06:00 [DBG] Connection id "0HN934M71O6SU" completed keep alive response.
2024-12-23 01:44:01.499 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 279.9718ms
2024-12-23 01:44:01.502 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:44:01.505 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:01.506 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:01.508 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:01.509 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:01.510 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:01.511 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:01.512 -06:00 [DBG] Connection id "0HN934M71O6SU" completed keep alive response.
2024-12-23 01:44:01.513 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.0324ms
2024-12-23 01:44:01.517 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:44:01.520 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:01.521 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:44:01.523 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:01.525 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:01.526 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:01.527 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:01.560 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:44:01.562 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:44:01.566 -06:00 [DBG] Authorization was successful.
2024-12-23 01:44:01.568 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:01.576 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:44:01.579 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:44:01.580 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:44:01.582 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:44:01.584 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:44:01.586 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:44:01.588 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:44:01.590 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:44:01.595 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:44:01.600 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:44:01.601 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:44:01.604 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:44:01.608 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:44:01.621 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:44:01.638 -06:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()'
2024-12-23 01:44:01.760 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.Description (string) Required MaxLength(250), 1], [Property: ProductEntity.Name (string) Required MaxLength(100), 2], [Property: ProductEntity.Price (decimal) Required, 3], [Property: ProductEntity.RowVersion (byte[]) Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 4], [Property: ProductEntity.Stock (int) Required, 5] }
        SELECT p.Id, p.Description, p.Name, p.Price, p.RowVersion, p.Stock
        FROM Products AS p), 
    ReaderColumn[] { ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<decimal>, ReaderColumn<DateTime>, ReaderColumn<int> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Backend.Persistence.Database.DatabaseService, 
    False, 
    False, 
    True
)'
2024-12-23 01:44:01.785 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:44:01.786 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:44:01.788 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:01.792 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:01.794 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:44:01.795 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:44:01.797 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:44:01.799 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:44:01.812 -06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:44:01.835 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:01.836 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 6ms reading results.
2024-12-23 01:44:01.839 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:01.841 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:44:01.843 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:44:01.846 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:44:01.849 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:44:01.850 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:44:01.851 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:44:01.852 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:44:01.854 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:44:01.870 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 281.5547ms
2024-12-23 01:44:01.872 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:01.875 -06:00 [DBG] Connection id "0HN934M71O6SU" completed keep alive response.
2024-12-23 01:44:01.877 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:44:01.880 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:01.882 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (2ms).
2024-12-23 01:44:01.884 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 367.6136ms
2024-12-23 01:44:08.176 -06:00 [DBG] Connection id "0HN934M71O6SU" received FIN.
2024-12-23 01:44:08.182 -06:00 [DBG] Connection id "0HN934M71O6SU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:44:08.195 -06:00 [DBG] Connection id "0HN934M71O6SU" disconnecting.
2024-12-23 01:44:08.197 -06:00 [DBG] Connection id "0HN934M71O6SU" stopped.
2024-12-23 01:44:08.339 -06:00 [DBG] Connection id "0HN934M71O6SV" accepted.
2024-12-23 01:44:08.341 -06:00 [DBG] Connection id "0HN934M71O6SV" started.
2024-12-23 01:44:08.343 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:44:08.346 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:08.347 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:08.349 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:08.350 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:08.351 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:08.352 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:08.354 -06:00 [DBG] Connection id "0HN934M71O6SV" completed keep alive response.
2024-12-23 01:44:08.355 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 11.8367ms
2024-12-23 01:44:08.361 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:44:08.365 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:08.367 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:08.368 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:08.369 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:08.370 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:08.372 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:08.376 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:44:08.380 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:08.381 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:44:08.383 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:44:08.385 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:44:08.387 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:44:08.389 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:44:08.391 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:44:08.395 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:08.396 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:08.399 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:44:08.401 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:44:08.401 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:44:08.402 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:44:08.403 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:44:08.405 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:44:08.407 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 12.0947ms
2024-12-23 01:44:08.408 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:08.411 -06:00 [DBG] Connection id "0HN934M71O6SV" completed keep alive response.
2024-12-23 01:44:08.412 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 50.475ms
2024-12-23 01:44:08.417 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:44:08.420 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:08.421 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:08.428 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:08.429 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:08.434 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:08.435 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:08.436 -06:00 [DBG] Connection id "0HN934M71O6SV" completed keep alive response.
2024-12-23 01:44:08.437 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 20.9326ms
2024-12-23 01:44:08.442 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:44:08.444 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:08.446 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:44:08.447 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:08.448 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:08.449 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:08.451 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:08.452 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:44:08.453 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:44:08.456 -06:00 [DBG] Authorization was successful.
2024-12-23 01:44:08.457 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:08.459 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:44:08.461 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:44:08.463 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:44:08.465 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:44:08.467 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:44:08.469 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:44:08.471 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:44:08.472 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:44:08.474 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:44:08.476 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:44:08.478 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:44:08.479 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:44:08.480 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:44:08.526 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:44:08.533 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:44:08.534 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:44:08.535 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:08.541 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:08.544 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:44:08.545 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 01:44:08.546 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:44:08.547 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:44:08.549 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:44:08.551 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:08.553 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 1ms reading results.
2024-12-23 01:44:08.554 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:08.556 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:44:08.557 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:44:08.558 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:44:08.560 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:44:08.561 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:44:08.562 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:44:08.563 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:44:08.564 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:44:08.565 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 94.4686ms
2024-12-23 01:44:08.567 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:08.568 -06:00 [DBG] Connection id "0HN934M71O6SV" completed keep alive response.
2024-12-23 01:44:08.569 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:44:08.571 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:08.572 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:44:08.574 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 132.0966ms
2024-12-23 01:44:18.188 -06:00 [DBG] Connection id "0HN934M71O6SV" received FIN.
2024-12-23 01:44:18.190 -06:00 [DBG] Connection id "0HN934M71O6SV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:44:18.191 -06:00 [DBG] Connection id "0HN934M71O6SV" disconnecting.
2024-12-23 01:44:18.192 -06:00 [DBG] Connection id "0HN934M71O6SV" stopped.
2024-12-23 01:44:31.523 -06:00 [DBG] Connection id "0HN934M71O6T0" accepted.
2024-12-23 01:44:31.526 -06:00 [DBG] Connection id "0HN934M71O6T0" started.
2024-12-23 01:44:31.527 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:44:31.534 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:31.536 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:31.539 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:31.543 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:31.544 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:31.545 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:31.548 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:31.550 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 22.4943ms
2024-12-23 01:44:31.558 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:44:31.560 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:31.562 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:31.566 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:31.568 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:31.568 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:31.570 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:31.571 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:44:31.573 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:31.575 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:44:31.577 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:44:31.580 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:44:31.582 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:44:31.584 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:44:31.586 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:44:31.588 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:31.589 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:31.591 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:44:31.594 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:44:31.595 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:44:31.596 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:44:31.597 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:44:31.599 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:44:31.600 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 12.4324ms
2024-12-23 01:44:31.601 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:31.602 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:31.604 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 46.1218ms
2024-12-23 01:44:31.607 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:44:31.610 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:31.611 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:31.613 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:31.615 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:31.617 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:31.618 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:31.619 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:31.620 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 12.8782ms
2024-12-23 01:44:31.624 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:44:31.627 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:31.629 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:44:31.631 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:31.632 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:31.633 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:31.634 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:31.636 -06:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2024-12-23 01:44:31.638 -06:00 [DBG] Policy authentication schemes  did not succeed
2024-12-23 01:44:31.641 -06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-12-23 01:44:31.650 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-12-23 01:44:31.652 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:31.653 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 401 0 null 28.2312ms
2024-12-23 01:44:38.543 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:44:38.548 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:38.549 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:38.551 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:38.553 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:38.554 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:38.556 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:38.558 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:38.560 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 16.8354ms
2024-12-23 01:44:38.564 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:44:38.569 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:38.570 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:44:38.572 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:38.573 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:38.574 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:38.575 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:38.576 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:44:38.578 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:38.579 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:44:38.581 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:44:38.584 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:44:38.586 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:44:38.588 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:44:38.590 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:44:38.592 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:38.594 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:44:38.596 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:44:38.599 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:44:38.600 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:44:38.601 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:44:38.601 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:44:38.603 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:44:38.618 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 26.0424ms
2024-12-23 01:44:38.619 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:44:38.620 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:38.623 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 58.6466ms
2024-12-23 01:44:38.627 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:44:38.631 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:38.632 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:44:38.633 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:38.634 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:38.635 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:38.636 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:44:38.637 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:38.639 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.1724ms
2024-12-23 01:44:38.646 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:44:38.649 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:44:38.651 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:44:38.652 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:38.653 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:44:38.654 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:44:38.656 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:44:38.657 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:44:38.658 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:44:38.660 -06:00 [DBG] Authorization was successful.
2024-12-23 01:44:38.660 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:38.662 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:44:38.663 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:44:38.666 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:44:38.668 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:44:38.670 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:44:38.673 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:44:38.676 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:44:38.677 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:44:38.679 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:44:38.683 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:44:38.684 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:44:38.685 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:44:38.687 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:44:38.690 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:44:38.693 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:44:38.694 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:44:38.695 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:38.698 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:38.701 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:44:38.701 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 01:44:38.702 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:44:38.704 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:44:38.707 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:44:38.709 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:38.710 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 0ms reading results.
2024-12-23 01:44:38.711 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:38.712 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 01:44:38.713 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:44:38.713 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:44:38.715 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:44:38.716 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:44:38.717 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:44:38.717 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:44:38.718 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:44:38.719 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 43.5866ms
2024-12-23 01:44:38.720 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:44:38.721 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:44:38.722 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:44:38.723 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:44:38.724 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:44:38.725 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 78.6397ms
2024-12-23 01:47:33.758 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:47:33.766 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:33.768 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:47:33.769 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:33.770 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:33.771 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:33.772 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:47:33.772 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:33.780 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 22.8884ms
2024-12-23 01:47:33.784 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:47:33.787 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:33.788 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:33.790 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:33.791 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:33.792 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:33.793 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:33.794 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:47:33.796 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:33.797 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:47:33.799 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:47:33.801 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:47:33.803 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:47:33.805 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:47:33.806 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:47:33.808 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:47:33.810 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:47:33.812 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:47:33.814 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:47:33.815 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:47:33.816 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:47:33.816 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:47:33.818 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:47:33.819 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 11.0994ms
2024-12-23 01:47:33.821 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:33.822 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:33.823 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 38.8152ms
2024-12-23 01:47:33.831 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:47:33.834 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:47:33.835 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:47:33.836 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:33.836 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:33.837 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:33.838 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:47:33.839 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:33.840 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 8.2724ms
2024-12-23 01:47:33.843 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:47:33.845 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:47:33.847 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:47:33.848 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:47:33.849 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:33.850 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:33.851 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:33.852 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:47:33.853 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:47:33.854 -06:00 [DBG] Authorization was successful.
2024-12-23 01:47:33.855 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:47:33.856 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:47:33.858 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:47:33.859 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:47:33.861 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:47:33.863 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:47:33.864 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:47:33.865 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:47:33.866 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:47:33.867 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:47:33.869 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:47:33.870 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:47:33.870 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:47:33.871 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:47:33.873 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:47:33.874 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:47:33.875 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:47:33.876 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:33.878 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:33.881 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:47:33.881 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-12-23 01:47:33.882 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:47:33.883 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:47:33.886 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:47:33.888 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:33.889 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 0ms reading results.
2024-12-23 01:47:33.890 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:33.891 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (0ms).
2024-12-23 01:47:33.892 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:47:33.893 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:47:33.894 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:47:33.895 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:47:33.895 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:47:33.896 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:47:33.897 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:47:33.898 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 32.8847ms
2024-12-23 01:47:33.899 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:47:33.901 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:33.902 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:47:33.904 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:33.907 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (3ms).
2024-12-23 01:47:33.910 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 66.9913ms
2024-12-23 01:47:42.982 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:47:42.985 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:42.986 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:47:42.988 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:42.989 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:42.990 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:42.991 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:47:42.992 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:42.993 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 11.6761ms
2024-12-23 01:47:42.997 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:47:43.000 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:43.002 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:43.004 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:43.005 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:43.006 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:43.007 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:43.007 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:47:43.009 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:43.010 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:47:43.012 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:47:43.013 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:47:43.015 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:47:43.016 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:47:43.018 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:47:43.020 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:47:43.021 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:47:43.023 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:47:43.025 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:47:43.026 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:47:43.026 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:47:43.027 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:47:43.029 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:47:43.031 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 11.2247ms
2024-12-23 01:47:43.033 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:43.034 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:43.035 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 37.8502ms
2024-12-23 01:47:43.039 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/create - null null
2024-12-23 01:47:43.042 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/create'
2024-12-23 01:47:43.043 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:47:43.045 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:43.046 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:43.047 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:43.048 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:47:43.049 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:43.050 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/create - 204 null null 10.7198ms
2024-12-23 01:47:43.053 -06:00 [INF] Request starting HTTP/1.1 POST http://localhost:5101/api/v1/product/create - application/json 59
2024-12-23 01:47:43.056 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/create'
2024-12-23 01:47:43.057 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)' with route pattern 'api/v1/product/create' is valid for the request path '/api/v1/product/create'
2024-12-23 01:47:43.059 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)'
2024-12-23 01:47:43.060 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:43.061 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:43.062 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:43.063 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:47:43.064 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:47:43.065 -06:00 [DBG] Authorization was successful.
2024-12-23 01:47:43.066 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)'
2024-12-23 01:47:43.071 -06:00 [INF] Route matched with {action = "Create", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Backend.Application.Database.Product.Models.CreateProductModel, Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:47:43.073 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:47:43.074 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:47:43.076 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:47:43.078 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:47:43.080 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:47:43.081 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:47:43.083 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:47:43.084 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel' ...
2024-12-23 01:47:43.086 -06:00 [DBG] Attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel' using the name '' in request data ...
2024-12-23 01:47:43.089 -06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-12-23 01:47:43.097 -06:00 [DBG] Connection id "0HN934M71O6T0", Request id "0HN934M71O6T0:00000010": started reading request body.
2024-12-23 01:47:43.098 -06:00 [DBG] Connection id "0HN934M71O6T0", Request id "0HN934M71O6T0:00000010": done reading request body.
2024-12-23 01:47:43.111 -06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Backend.Application.Database.Product.Models.CreateProductModel'
2024-12-23 01:47:43.113 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel'.
2024-12-23 01:47:43.114 -06:00 [DBG] Done attempting to bind parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel'.
2024-12-23 01:47:43.115 -06:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel' ...
2024-12-23 01:47:43.123 -06:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Backend.Application.Database.Product.Models.CreateProductModel'.
2024-12-23 01:47:43.124 -06:00 [DBG] Attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand' ...
2024-12-23 01:47:43.126 -06:00 [DBG] Done attempting to bind parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand'.
2024-12-23 01:47:43.127 -06:00 [DBG] Attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand' ...
2024-12-23 01:47:43.129 -06:00 [DBG] Done attempting to validate the bound parameter 'createCommand' of type 'Backend.Application.Database.Product.Commands.CreateProduct.ICreateProductCommand'.
2024-12-23 01:47:43.133 -06:00 [INF] Iniciando la creación del producto. Detalles del producto: {"Name":"sws","Description":"ss","Price":12,"Stock":12,"$type":"CreateProductModel"}
2024-12-23 01:47:43.144 -06:00 [INF] Producto mapeado con éxito. Nombre: sws, Precio: 12
2024-12-23 01:47:43.147 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:47:43.173 -06:00 [DBG] 'DatabaseService' generated a temporary value for the property 'ProductEntity.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 01:47:43.212 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 01:47:43.214 -06:00 [INF] Producto sws agregado a la base de datos.
2024-12-23 01:47:43.217 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 01:47:43.220 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 01:47:43.231 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 01:47:43.280 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:47:43.281 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:47:43.283 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.285 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.289 -06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-12-23 01:47:43.302 -06:00 [DBG] Began transaction with isolation level 'Unspecified'.
2024-12-23 01:47:43.306 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:47:43.307 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:47:43.313 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-12-23 01:47:43.316 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Products` (`Description`, `Name`, `Price`, `Stock`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `Id`, `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 01:47:43.346 -06:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 250), @p1='?' (Size = 100), @p2='?' (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Products` (`Description`, `Name`, `Price`, `Stock`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `Id`, `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2024-12-23 01:47:43.356 -06:00 [DBG] The foreign key property 'ProductEntity.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-12-23 01:47:43.366 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.367 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 18ms reading results.
2024-12-23 01:47:43.371 -06:00 [DBG] Committing transaction.
2024-12-23 01:47:43.380 -06:00 [DBG] Committed transaction.
2024-12-23 01:47:43.382 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.383 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:47:43.386 -06:00 [DBG] Disposing transaction.
2024-12-23 01:47:43.394 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 01:47:43.398 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 01:47:43.400 -06:00 [INF] Producto sws guardado con éxito.
2024-12-23 01:47:43.402 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:47:43.404 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:47:43.405 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:47:43.406 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:47:43.407 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:47:43.408 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:47:43.412 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.Create (Backend.Api) in 330.3549ms
2024-12-23 01:47:43.413 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.Create (Backend.Api)'
2024-12-23 01:47:43.414 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:43.416 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:47:43.417 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.418 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:47:43.420 -06:00 [INF] Request finished HTTP/1.1 POST http://localhost:5101/api/v1/product/create - 201 null application/json; charset=utf-8 367.1099ms
2024-12-23 01:47:43.429 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:47:43.433 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:43.434 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:47:43.436 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:43.438 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:43.439 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:43.440 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:43.441 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:47:43.442 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:43.443 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:47:43.446 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:47:43.447 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:47:43.449 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:47:43.451 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:47:43.453 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:47:43.456 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:47:43.457 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:47:43.459 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:47:43.461 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:47:43.462 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:47:43.463 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:47:43.464 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:47:43.465 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:47:43.467 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 11.6323ms
2024-12-23 01:47:43.469 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:47:43.470 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:43.472 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 43.0982ms
2024-12-23 01:47:43.476 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:47:43.479 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:47:43.481 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:47:43.482 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:43.483 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:43.484 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:43.485 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:47:43.486 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:43.487 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.1574ms
2024-12-23 01:47:43.490 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:47:43.493 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:47:43.494 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:47:43.497 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:47:43.498 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:47:43.499 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:47:43.500 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:47:43.501 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:47:43.502 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:47:43.503 -06:00 [DBG] Authorization was successful.
2024-12-23 01:47:43.504 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:47:43.505 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:47:43.507 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:47:43.509 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:47:43.510 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:47:43.513 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:47:43.514 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:47:43.516 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:47:43.518 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:47:43.519 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:47:43.521 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:47:43.523 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:47:43.524 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:47:43.525 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:47:43.527 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:47:43.529 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:47:43.530 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:47:43.532 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.534 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.537 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:47:43.539 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:47:43.540 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:47:43.541 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:47:43.545 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:47:43.551 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 01:47:43.553 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.555 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 5ms reading results.
2024-12-23 01:47:43.556 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.558 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:47:43.559 -06:00 [INF] Se obtuvieron 1 productos.
2024-12-23 01:47:43.560 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:47:43.563 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:47:43.564 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:47:43.565 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:47:43.565 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:47:43.567 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:47:43.568 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 52.0878ms
2024-12-23 01:47:43.570 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:47:43.571 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:47:43.573 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:47:43.574 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:47:43.575 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:47:43.577 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 86.7796ms
2024-12-23 01:48:04.948 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:48:04.951 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:48:04.952 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:48:04.953 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:48:04.954 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:48:04.955 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:48:04.956 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:48:04.957 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:48:04.959 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 10.6373ms
2024-12-23 01:48:04.966 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:48:04.969 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:48:04.970 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:48:04.972 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:48:04.973 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:48:04.974 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:48:04.975 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:48:04.976 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:48:04.978 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:48:04.979 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:48:04.982 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:48:04.983 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:48:04.985 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:48:04.987 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:48:04.988 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:48:04.991 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:48:04.992 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:48:04.994 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:48:04.996 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:48:04.997 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:48:04.998 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:48:04.999 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:48:05.000 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:48:05.002 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 11.3244ms
2024-12-23 01:48:05.004 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:48:05.005 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:48:05.006 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 40.5083ms
2024-12-23 01:48:05.010 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/delete/1 - null null
2024-12-23 01:48:05.013 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/delete/1'
2024-12-23 01:48:05.014 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:48:05.015 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:48:05.016 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:48:05.017 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:48:05.018 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:48:05.019 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:48:05.021 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/delete/1 - 204 null null 10.7371ms
2024-12-23 01:48:05.024 -06:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5101/api/v1/product/delete/1 - application/json null
2024-12-23 01:48:05.027 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/delete/1'
2024-12-23 01:48:05.028 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)' with route pattern 'api/v1/product/delete/{Id}' is valid for the request path '/api/v1/product/delete/1'
2024-12-23 01:48:05.030 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)'
2024-12-23 01:48:05.031 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:48:05.032 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:48:05.033 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:48:05.034 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:48:05.035 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:48:05.037 -06:00 [DBG] Authorization was successful.
2024-12-23 01:48:05.037 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)'
2024-12-23 01:48:05.042 -06:00 [INF] Route matched with {action = "Delete", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32, Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:48:05.045 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:48:05.046 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:48:05.048 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:48:05.050 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:48:05.052 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:48:05.054 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:48:05.055 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:48:05.056 -06:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-12-23 01:48:05.058 -06:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-12-23 01:48:05.061 -06:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-12-23 01:48:05.062 -06:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-12-23 01:48:05.064 -06:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-12-23 01:48:05.065 -06:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-12-23 01:48:05.066 -06:00 [DBG] Attempting to bind parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand' ...
2024-12-23 01:48:05.069 -06:00 [DBG] Done attempting to bind parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand'.
2024-12-23 01:48:05.070 -06:00 [DBG] Attempting to validate the bound parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand' ...
2024-12-23 01:48:05.072 -06:00 [DBG] Done attempting to validate the bound parameter 'deleteCommand' of type 'Backend.Application.Database.Product.Commands.DeleteProduct.IDeleteProductCommand'.
2024-12-23 01:48:05.075 -06:00 [INF] Iniciando la eliminación del producto con ID 1
2024-12-23 01:48:05.077 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:48:05.087 -06:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()
    .FirstOrDefault(x => x.Id == __Id_0)'
2024-12-23 01:48:05.123 -06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ProductEntity>(
    asyncEnumerable: new SingleQueryingEnumerable<ProductEntity>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.Description (string) Required MaxLength(250), 1], [Property: ProductEntity.Name (string) Required MaxLength(100), 2], [Property: ProductEntity.Price (decimal) Required, 3], [Property: ProductEntity.RowVersion (byte[]) Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 4], [Property: ProductEntity.Stock (int) Required, 5] }
            SELECT TOP(1) p.Id, p.Description, p.Name, p.Price, p.RowVersion, p.Stock
            FROM Products AS p
            WHERE p.Id == @__Id_0), 
        ReaderColumn[] { ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<decimal>, ReaderColumn<DateTime>, ReaderColumn<int> }, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
        Backend.Persistence.Database.DatabaseService, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-12-23 01:48:05.129 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:48:05.130 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:48:05.131 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.134 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.137 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:48:05.138 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:48:05.139 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:48:05.141 -06:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__Id_0
LIMIT 1
2024-12-23 01:48:05.144 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__Id_0
LIMIT 1
2024-12-23 01:48:05.147 -06:00 [DBG] Context 'DatabaseService' started tracking 'ProductEntity' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 01:48:05.149 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.150 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 3ms reading results.
2024-12-23 01:48:05.152 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.153 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:48:05.155 -06:00 [INF] Producto encontrado: sws, eliminando...
2024-12-23 01:48:05.156 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 01:48:05.160 -06:00 [INF] Producto sws eliminado correctamente.
2024-12-23 01:48:05.161 -06:00 [DBG] SaveChanges starting for 'DatabaseService'.
2024-12-23 01:48:05.162 -06:00 [DBG] DetectChanges starting for 'DatabaseService'.
2024-12-23 01:48:05.164 -06:00 [DBG] DetectChanges completed for 'DatabaseService'.
2024-12-23 01:48:05.169 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.171 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.173 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:48:05.174 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:48:05.178 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-12-23 01:48:05.180 -06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Products`
WHERE `Id` = @p0 AND `RowVersion` = @p1;
SELECT ROW_COUNT();
2024-12-23 01:48:05.190 -06:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Products`
WHERE `Id` = @p0 AND `RowVersion` = @p1;
SELECT ROW_COUNT();
2024-12-23 01:48:05.194 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.195 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 01:48:05.197 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.198 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:48:05.201 -06:00 [DBG] An entity of type 'ProductEntity' tracked by 'DatabaseService' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-12-23 01:48:05.203 -06:00 [DBG] SaveChanges completed for 'DatabaseService' with 1 entities written to the database.
2024-12-23 01:48:05.205 -06:00 [INF] Cambios guardados correctamente después de eliminar el producto sws.
2024-12-23 01:48:05.206 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:48:05.209 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:48:05.210 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:48:05.211 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:48:05.211 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:48:05.213 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:48:05.214 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.Delete (Backend.Api) in 160.7222ms
2024-12-23 01:48:05.216 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.Delete (Backend.Api)'
2024-12-23 01:48:05.217 -06:00 [DBG] Connection id "0HN934M71O6T0" completed keep alive response.
2024-12-23 01:48:05.218 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:48:05.220 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:48:05.221 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:48:05.223 -06:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5101/api/v1/product/delete/1 - 200 null application/json; charset=utf-8 198.9846ms
2024-12-23 01:49:19.299 -06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-12-23 01:49:19.797 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:49:19.808 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:49:19.817 -06:00 [DBG] Created DbConnection. (5ms).
2024-12-23 01:49:20.159 -06:00 [DBG] Migrating using database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.166 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:49:20.167 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:49:20.170 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:49:20.291 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:49:20.324 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:49:20.328 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:49:20.335 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:49:20.339 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-12-23 01:49:20.341 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2024-12-23 01:49:20.343 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.356 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.362 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:49:20.379 -06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:49:20.382 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.385 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (3ms).
2024-12-23 01:49:20.388 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:49:20.389 -06:00 [DBG] Created DbConnection. (0ms).
2024-12-23 01:49:20.390 -06:00 [DBG] Opening connection to database '' on server '127.0.0.1'.
2024-12-23 01:49:20.397 -06:00 [DBG] Opened connection to database '' on server '127.0.0.1'.
2024-12-23 01:49:20.399 -06:00 [DBG] Disposing connection to database '' on server '127.0.0.1'.
2024-12-23 01:49:20.400 -06:00 [DBG] Disposed connection to database '' on server '127.0.0.1' (1ms).
2024-12-23 01:49:20.403 -06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-12-23 01:49:20.404 -06:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-12-23 01:49:20.405 -06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-12-23 01:49:20.407 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.410 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.412 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:49:20.414 -06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='paynaudb' AND TABLE_NAME='__EFMigrationsHistory';
2024-12-23 01:49:20.417 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.418 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:49:20.434 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.436 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.438 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:49:20.439 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:49:20.440 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:49:20.442 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:49:20.446 -06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-12-23 01:49:20.450 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.452 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 2ms reading results.
2024-12-23 01:49:20.454 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.455 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:49:20.463 -06:00 [INF] No migrations were applied. The database is already up to date.
2024-12-23 01:49:20.464 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:49:20.466 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:20.467 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:49:20.520 -06:00 [DBG] Initializing Razor view compiler with no compiled views.
2024-12-23 01:49:20.528 -06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-12-23 01:49:20.560 -06:00 [INF] User profile is available. Using 'C:\Users\PELT\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-12-23 01:49:20.608 -06:00 [DBG] Hosting starting
2024-12-23 01:49:20.619 -06:00 [DBG] Reading data from file 'C:\Users\PELT\AppData\Local\ASP.NET\DataProtection-Keys\key-ada39264-2b40-410d-a912-fb2dd81f0290.xml'.
2024-12-23 01:49:20.628 -06:00 [DBG] Found key {ada39264-2b40-410d-a912-fb2dd81f0290}.
2024-12-23 01:49:20.635 -06:00 [DBG] Considering key {ada39264-2b40-410d-a912-fb2dd81f0290} with expiration date 2025-01-20 04:17:56Z as default key.
2024-12-23 01:49:20.639 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-23 01:49:20.640 -06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-12-23 01:49:20.643 -06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-12-23 01:49:20.646 -06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-12-23 01:49:20.648 -06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-12-23 01:49:20.650 -06:00 [DBG] Using key {ada39264-2b40-410d-a912-fb2dd81f0290} as the default key.
2024-12-23 01:49:20.652 -06:00 [DBG] Key ring with default key {ada39264-2b40-410d-a912-fb2dd81f0290} was loaded during application startup.
2024-12-23 01:49:20.749 -06:00 [INF] Now listening on: http://localhost:5101
2024-12-23 01:49:20.751 -06:00 [DBG] Loaded hosting startup assembly Backend.Api
2024-12-23 01:49:20.752 -06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-12-23 01:49:20.753 -06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-12-23 01:49:20.754 -06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-12-23 01:49:20.755 -06:00 [INF] Hosting environment: Development
2024-12-23 01:49:20.756 -06:00 [INF] Content root path: C:\Users\PELT\Desktop\Paynau\Test\TestFS\backend\src\Backend.Api
2024-12-23 01:49:20.757 -06:00 [DBG] Hosting started
2024-12-23 01:49:20.975 -06:00 [DBG] Connection id "0HN934P7RIJ7I" accepted.
2024-12-23 01:49:20.977 -06:00 [DBG] Connection id "0HN934P7RIJ7I" started.
2024-12-23 01:49:20.983 -06:00 [DBG] Connection id "0HN934P7RIJ7J" accepted.
2024-12-23 01:49:20.985 -06:00 [DBG] Connection id "0HN934P7RIJ7J" started.
2024-12-23 01:49:21.017 -06:00 [DBG] Connection id "0HN934P7RIJ7J" received FIN.
2024-12-23 01:49:21.017 -06:00 [DBG] Connection id "0HN934P7RIJ7I" received FIN.
2024-12-23 01:49:21.023 -06:00 [DBG] Connection id "0HN934P7RIJ7I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:49:21.023 -06:00 [DBG] Connection id "0HN934P7RIJ7J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:49:21.028 -06:00 [DBG] Connection id "0HN934P7RIJ7I" disconnecting.
2024-12-23 01:49:21.034 -06:00 [DBG] Connection id "0HN934P7RIJ7J" disconnecting.
2024-12-23 01:49:21.039 -06:00 [DBG] Connection id "0HN934P7RIJ7I" stopped.
2024-12-23 01:49:21.040 -06:00 [DBG] Connection id "0HN934P7RIJ7J" stopped.
2024-12-23 01:49:21.197 -06:00 [DBG] Connection id "0HN934P7RIJ7K" accepted.
2024-12-23 01:49:21.198 -06:00 [DBG] Connection id "0HN934P7RIJ7K" started.
2024-12-23 01:49:21.199 -06:00 [DBG] Connection id "0HN934P7RIJ7L" accepted.
2024-12-23 01:49:21.202 -06:00 [DBG] Connection id "0HN934P7RIJ7L" started.
2024-12-23 01:49:21.235 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/index.html - null null
2024-12-23 01:49:21.315 -06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-12-23 01:49:21.328 -06:00 [DBG] No candidates found for the request path '/index.html'
2024-12-23 01:49:21.329 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:49:21.425 -06:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-12-23 01:49:21.428 -06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-12-23 01:49:21.447 -06:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-12-23 01:49:21.449 -06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-12-23 01:49:21.451 -06:00 [DBG] Connection id "0HN934P7RIJ7K" completed keep alive response.
2024-12-23 01:49:21.455 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/index.html - 200 null text/html;charset=utf-8 228.2667ms
2024-12-23 01:49:21.513 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/index.js - null null
2024-12-23 01:49:21.516 -06:00 [DBG] No candidates found for the request path '/index.js'
2024-12-23 01:49:21.518 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:49:21.525 -06:00 [DBG] Connection id "0HN934P7RIJ7K" completed keep alive response.
2024-12-23 01:49:21.526 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-12-23 01:49:21.527 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/index.js - 200 null application/javascript;charset=utf-8 14.6433ms
2024-12-23 01:49:21.535 -06:00 [DBG] Connection id "0HN934P7RIJ7L" completed keep alive response.
2024-12-23 01:49:21.536 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_vs/browserLink - null null
2024-12-23 01:49:21.538 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.3807ms
2024-12-23 01:49:21.575 -06:00 [DBG] Connection id "0HN934P7RIJ7K" completed keep alive response.
2024-12-23 01:49:21.582 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.4915ms
2024-12-23 01:49:21.648 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-12-23 01:49:21.650 -06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-12-23 01:49:21.655 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:49:21.757 -06:00 [DBG] Connection id "0HN934P7RIJ7K" completed keep alive response.
2024-12-23 01:49:21.758 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.5962ms
2024-12-23 01:49:26.276 -06:00 [DBG] Connection id "0HN934P7RIJ7M" accepted.
2024-12-23 01:49:26.278 -06:00 [DBG] Connection id "0HN934P7RIJ7M" started.
2024-12-23 01:49:26.280 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - null null
2024-12-23 01:49:26.290 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:49:26.293 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:49:26.297 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:49:26.301 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:49:26.303 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:49:26.306 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:49:26.312 -06:00 [DBG] Connection id "0HN934P7RIJ7M" completed keep alive response.
2024-12-23 01:49:26.318 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/order/get-jwt - 204 null null 38.3125ms
2024-12-23 01:49:26.325 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - application/json null
2024-12-23 01:49:26.329 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/order/get-jwt'
2024-12-23 01:49:26.335 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)' with route pattern 'api/v1/order/get-jwt' is valid for the request path '/api/v1/order/get-jwt'
2024-12-23 01:49:26.337 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:49:26.339 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:49:26.340 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:49:26.341 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:49:26.409 -06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-12-23 01:49:26.415 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:49:26.433 -06:00 [INF] Route matched with {action = "GetJwt", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJwt() on controller Backend.Api.Controllers.OrderController (Backend.Api).
2024-12-23 01:49:26.436 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:49:26.438 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:49:26.440 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:49:26.443 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:49:26.445 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:49:26.449 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:49:26.451 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.OrderController (Backend.Api)
2024-12-23 01:49:26.541 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:49:26.545 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:49:26.546 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:49:26.547 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:49:26.549 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:49:26.550 -06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-12-23 01:49:26.585 -06:00 [INF] Executed action Backend.Api.Controllers.OrderController.GetJwt (Backend.Api) in 136.0503ms
2024-12-23 01:49:26.587 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.OrderController.GetJwt (Backend.Api)'
2024-12-23 01:49:26.588 -06:00 [DBG] Connection id "0HN934P7RIJ7M" completed keep alive response.
2024-12-23 01:49:26.589 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/order/get-jwt - 200 null application/json; charset=utf-8 264.1486ms
2024-12-23 01:49:26.593 -06:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - null null
2024-12-23 01:49:26.596 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:49:26.597 -06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-12-23 01:49:26.598 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:49:26.600 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:49:26.601 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:49:26.602 -06:00 [DBG] The request is a preflight request.
2024-12-23 01:49:26.602 -06:00 [DBG] Connection id "0HN934P7RIJ7M" completed keep alive response.
2024-12-23 01:49:26.604 -06:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5101/api/v1/product/get-all - 204 null null 11.0944ms
2024-12-23 01:49:26.607 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - application/json null
2024-12-23 01:49:26.610 -06:00 [DBG] 1 candidate(s) found for the request path '/api/v1/product/get-all'
2024-12-23 01:49:26.611 -06:00 [DBG] Endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)' with route pattern 'api/v1/product/get-all' is valid for the request path '/api/v1/product/get-all'
2024-12-23 01:49:26.613 -06:00 [DBG] Request matched endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:49:26.615 -06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-12-23 01:49:26.616 -06:00 [DBG] The request has an origin header: 'http://localhost:3001'.
2024-12-23 01:49:26.617 -06:00 [INF] CORS policy execution successful.
2024-12-23 01:49:26.647 -06:00 [DBG] Successfully validated the token.
2024-12-23 01:49:26.649 -06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-12-23 01:49:26.653 -06:00 [DBG] Authorization was successful.
2024-12-23 01:49:26.654 -06:00 [INF] Executing endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:49:26.662 -06:00 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery) on controller Backend.Api.Controllers.ProductController (Backend.Api).
2024-12-23 01:49:26.665 -06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-12-23 01:49:26.666 -06:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-12-23 01:49:26.668 -06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-12-23 01:49:26.670 -06:00 [DBG] Execution plan of exception filters (in the following order): ["Backend.Application.Exceptions.ExceptionManager"]
2024-12-23 01:49:26.672 -06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-12-23 01:49:26.675 -06:00 [DBG] Executing controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:49:26.676 -06:00 [DBG] Executed controller factory for controller Backend.Api.Controllers.ProductController (Backend.Api)
2024-12-23 01:49:26.681 -06:00 [DBG] Attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:49:26.684 -06:00 [DBG] Done attempting to bind parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:49:26.686 -06:00 [DBG] Attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery' ...
2024-12-23 01:49:26.689 -06:00 [DBG] Done attempting to validate the bound parameter 'getQuery' of type 'Backend.Application.Database.Product.Queries.GetProducts.IGetProductsQuery'.
2024-12-23 01:49:26.692 -06:00 [INF] Iniciando la consulta para obtener todos los productos.
2024-12-23 01:49:26.705 -06:00 [DBG] Entity Framework Core 8.0.8 initialized 'DatabaseService' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: ServerVersion=8.0.23-mysql 
2024-12-23 01:49:26.720 -06:00 [DBG] Compiling query expression: 
'DbSet<ProductEntity>()'
2024-12-23 01:49:26.834 -06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductEntity>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ProductEntity.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ProductEntity.Description (string) Required MaxLength(250), 1], [Property: ProductEntity.Name (string) Required MaxLength(100), 2], [Property: ProductEntity.Price (decimal) Required, 3], [Property: ProductEntity.RowVersion (byte[]) Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 4], [Property: ProductEntity.Stock (int) Required, 5] }
        SELECT p.Id, p.Description, p.Name, p.Price, p.RowVersion, p.Stock
        FROM Products AS p), 
    ReaderColumn[] { ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<decimal>, ReaderColumn<DateTime>, ReaderColumn<int> }, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductEntity>, 
    Backend.Persistence.Database.DatabaseService, 
    False, 
    False, 
    True
)'
2024-12-23 01:49:26.858 -06:00 [DBG] Creating DbConnection.
2024-12-23 01:49:26.859 -06:00 [DBG] Created DbConnection. (1ms).
2024-12-23 01:49:26.862 -06:00 [DBG] Opening connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:26.866 -06:00 [DBG] Opened connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:26.867 -06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-12-23 01:49:26.868 -06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-12-23 01:49:26.870 -06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-12-23 01:49:26.871 -06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:49:26.885 -06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Description`, `p`.`Name`, `p`.`Price`, `p`.`RowVersion`, `p`.`Stock`
FROM `Products` AS `p`
2024-12-23 01:49:26.909 -06:00 [DBG] Closing data reader to 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:26.910 -06:00 [DBG] A data reader for 'paynaudb' on server '127.0.0.1' is being disposed after spending 6ms reading results.
2024-12-23 01:49:26.913 -06:00 [DBG] Closing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:26.915 -06:00 [DBG] Closed connection to database 'paynaudb' on server '127.0.0.1' (1ms).
2024-12-23 01:49:26.917 -06:00 [INF] Se obtuvieron 0 productos.
2024-12-23 01:49:26.921 -06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-12-23 01:49:26.923 -06:00 [DBG] No information found on request to perform content negotiation.
2024-12-23 01:49:26.924 -06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-12-23 01:49:26.925 -06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-12-23 01:49:26.926 -06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-12-23 01:49:26.927 -06:00 [INF] Executing ObjectResult, writing value of type 'Backend.Domain.Models.BaseResponseModel'.
2024-12-23 01:49:26.944 -06:00 [INF] Executed action Backend.Api.Controllers.ProductController.GetAll (Backend.Api) in 269.1894ms
2024-12-23 01:49:26.947 -06:00 [INF] Executed endpoint 'Backend.Api.Controllers.ProductController.GetAll (Backend.Api)'
2024-12-23 01:49:26.949 -06:00 [DBG] Connection id "0HN934P7RIJ7M" completed keep alive response.
2024-12-23 01:49:26.952 -06:00 [DBG] 'DatabaseService' disposed.
2024-12-23 01:49:26.955 -06:00 [DBG] Disposing connection to database 'paynaudb' on server '127.0.0.1'.
2024-12-23 01:49:26.958 -06:00 [DBG] Disposed connection to database 'paynaudb' on server '127.0.0.1' (2ms).
2024-12-23 01:49:26.960 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/api/v1/product/get-all - 200 null application/json; charset=utf-8 352.6402ms
2024-12-23 01:50:29.649 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - null null
2024-12-23 01:50:29.653 -06:00 [DBG] Connection id "0HN934P7RIJ7K" completed keep alive response.
2024-12-23 01:50:29.655 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.6322ms
2024-12-23 01:50:29.788 -06:00 [INF] Request starting HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - null null
2024-12-23 01:50:29.790 -06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-12-23 01:50:29.791 -06:00 [DBG] Request did not match any endpoints
2024-12-23 01:50:29.799 -06:00 [DBG] Connection id "0HN934P7RIJ7K" completed keep alive response.
2024-12-23 01:50:29.800 -06:00 [INF] Request finished HTTP/1.1 GET http://localhost:5101/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.3973ms
2024-12-23 01:50:33.623 -06:00 [DBG] Connection id "0HN934P7RIJ7L" received FIN.
2024-12-23 01:50:33.624 -06:00 [DBG] Connection id "0HN934P7RIJ7K" received FIN.
2024-12-23 01:50:33.624 -06:00 [DBG] Connection id "0HN934P7RIJ7M" received FIN.
2024-12-23 01:50:33.634 -06:00 [DBG] Connection id "0HN934P7RIJ7K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:50:33.639 -06:00 [DBG] Connection id "0HN934P7RIJ7M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:50:33.644 -06:00 [DBG] Connection id "0HN934P7RIJ7K" disconnecting.
2024-12-23 01:50:33.631 -06:00 [DBG] Connection id "0HN934P7RIJ7L" disconnecting.
2024-12-23 01:50:33.651 -06:00 [DBG] Connection id "0HN934P7RIJ7M" disconnecting.
2024-12-23 01:50:33.654 -06:00 [DBG] Connection id "0HN934P7RIJ7L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-12-23 01:50:33.655 -06:00 [DBG] Connection id "0HN934P7RIJ7M" stopped.
2024-12-23 01:50:33.668 -06:00 [DBG] Connection id "0HN934P7RIJ7K" stopped.
2024-12-23 01:50:33.668 -06:00 [DBG] Connection id "0HN934P7RIJ7L" stopped.
